{"ast":null,"code":"import { h } from \"vue\";\nimport { inBrowser, useRect } from \"@vant/use\";\n\nvar stdin_default = lazy => ({\n  props: {\n    tag: {\n      type: String,\n      default: \"div\"\n    }\n  },\n  emits: [\"show\"],\n\n  render() {\n    return h(this.tag, this.show && this.$slots.default ? this.$slots.default() : null);\n  },\n\n  data() {\n    return {\n      el: null,\n      state: {\n        loaded: false\n      },\n      show: false\n    };\n  },\n\n  mounted() {\n    this.el = this.$el;\n    lazy.addLazyBox(this);\n    lazy.lazyLoadHandler();\n  },\n\n  beforeUnmount() {\n    lazy.removeComponent(this);\n  },\n\n  methods: {\n    checkInView() {\n      const rect = useRect(this.$el);\n      return inBrowser && rect.top < window.innerHeight * lazy.options.preLoad && rect.bottom > 0 && rect.left < window.innerWidth * lazy.options.preLoad && rect.right > 0;\n    },\n\n    load() {\n      this.show = true;\n      this.state.loaded = true;\n      this.$emit(\"show\", this);\n    },\n\n    destroy() {\n      return this.$destroy;\n    }\n\n  }\n});\n\nexport { stdin_default as default };","map":{"version":3,"names":["h","inBrowser","useRect","stdin_default","lazy","props","tag","type","String","default","emits","render","show","$slots","data","el","state","loaded","mounted","$el","addLazyBox","lazyLoadHandler","beforeUnmount","removeComponent","methods","checkInView","rect","top","window","innerHeight","options","preLoad","bottom","left","innerWidth","right","load","$emit","destroy","$destroy"],"sources":["D:/web/my-blog/node_modules/vant/es/lazyload/vue-lazyload/lazy-component.mjs"],"sourcesContent":["import { h } from \"vue\";\nimport { inBrowser, useRect } from \"@vant/use\";\nvar stdin_default = (lazy) => ({\n  props: {\n    tag: {\n      type: String,\n      default: \"div\"\n    }\n  },\n  emits: [\"show\"],\n  render() {\n    return h(this.tag, this.show && this.$slots.default ? this.$slots.default() : null);\n  },\n  data() {\n    return {\n      el: null,\n      state: {\n        loaded: false\n      },\n      show: false\n    };\n  },\n  mounted() {\n    this.el = this.$el;\n    lazy.addLazyBox(this);\n    lazy.lazyLoadHandler();\n  },\n  beforeUnmount() {\n    lazy.removeComponent(this);\n  },\n  methods: {\n    checkInView() {\n      const rect = useRect(this.$el);\n      return inBrowser && rect.top < window.innerHeight * lazy.options.preLoad && rect.bottom > 0 && rect.left < window.innerWidth * lazy.options.preLoad && rect.right > 0;\n    },\n    load() {\n      this.show = true;\n      this.state.loaded = true;\n      this.$emit(\"show\", this);\n    },\n    destroy() {\n      return this.$destroy;\n    }\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"AAAA,SAASA,CAAT,QAAkB,KAAlB;AACA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,WAAnC;;AACA,IAAIC,aAAa,GAAIC,IAAD,KAAW;EAC7BC,KAAK,EAAE;IACLC,GAAG,EAAE;MACHC,IAAI,EAAEC,MADH;MAEHC,OAAO,EAAE;IAFN;EADA,CADsB;EAO7BC,KAAK,EAAE,CAAC,MAAD,CAPsB;;EAQ7BC,MAAM,GAAG;IACP,OAAOX,CAAC,CAAC,KAAKM,GAAN,EAAW,KAAKM,IAAL,IAAa,KAAKC,MAAL,CAAYJ,OAAzB,GAAmC,KAAKI,MAAL,CAAYJ,OAAZ,EAAnC,GAA2D,IAAtE,CAAR;EACD,CAV4B;;EAW7BK,IAAI,GAAG;IACL,OAAO;MACLC,EAAE,EAAE,IADC;MAELC,KAAK,EAAE;QACLC,MAAM,EAAE;MADH,CAFF;MAKLL,IAAI,EAAE;IALD,CAAP;EAOD,CAnB4B;;EAoB7BM,OAAO,GAAG;IACR,KAAKH,EAAL,GAAU,KAAKI,GAAf;IACAf,IAAI,CAACgB,UAAL,CAAgB,IAAhB;IACAhB,IAAI,CAACiB,eAAL;EACD,CAxB4B;;EAyB7BC,aAAa,GAAG;IACdlB,IAAI,CAACmB,eAAL,CAAqB,IAArB;EACD,CA3B4B;;EA4B7BC,OAAO,EAAE;IACPC,WAAW,GAAG;MACZ,MAAMC,IAAI,GAAGxB,OAAO,CAAC,KAAKiB,GAAN,CAApB;MACA,OAAOlB,SAAS,IAAIyB,IAAI,CAACC,GAAL,GAAWC,MAAM,CAACC,WAAP,GAAqBzB,IAAI,CAAC0B,OAAL,CAAaC,OAA1D,IAAqEL,IAAI,CAACM,MAAL,GAAc,CAAnF,IAAwFN,IAAI,CAACO,IAAL,GAAYL,MAAM,CAACM,UAAP,GAAoB9B,IAAI,CAAC0B,OAAL,CAAaC,OAArI,IAAgJL,IAAI,CAACS,KAAL,GAAa,CAApK;IACD,CAJM;;IAKPC,IAAI,GAAG;MACL,KAAKxB,IAAL,GAAY,IAAZ;MACA,KAAKI,KAAL,CAAWC,MAAX,GAAoB,IAApB;MACA,KAAKoB,KAAL,CAAW,MAAX,EAAmB,IAAnB;IACD,CATM;;IAUPC,OAAO,GAAG;MACR,OAAO,KAAKC,QAAZ;IACD;;EAZM;AA5BoB,CAAX,CAApB;;AA2CA,SACEpC,aAAa,IAAIM,OADnB"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent, ref } from \"vue\";\nimport { addUnit, truthProp, numericProp, preventDefault, makeStringProp, makeNumberProp, makeNumericProp, createNamespace } from \"../utils/index.mjs\";\nimport { useRect, useCustomFieldValue } from \"@vant/use\";\nimport { useRefs } from \"../composables/use-refs.mjs\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nconst [name, bem] = createNamespace(\"rate\");\n\nfunction getRateStatus(value, index, allowHalf, readonly) {\n  if (value >= index) {\n    return {\n      status: \"full\",\n      value: 1\n    };\n  }\n\n  if (value + 0.5 >= index && allowHalf && !readonly) {\n    return {\n      status: \"half\",\n      value: 0.5\n    };\n  }\n\n  if (value + 1 >= index && allowHalf && readonly) {\n    const cardinal = 10 ** 10;\n    return {\n      status: \"half\",\n      value: Math.round((value - index + 1) * cardinal) / cardinal\n    };\n  }\n\n  return {\n    status: \"void\",\n    value: 0\n  };\n}\n\nconst rateProps = {\n  size: numericProp,\n  icon: makeStringProp(\"star\"),\n  color: String,\n  count: makeNumericProp(5),\n  gutter: numericProp,\n  readonly: Boolean,\n  disabled: Boolean,\n  voidIcon: makeStringProp(\"star-o\"),\n  allowHalf: Boolean,\n  voidColor: String,\n  touchable: truthProp,\n  iconPrefix: String,\n  modelValue: makeNumberProp(0),\n  disabledColor: String\n};\nvar stdin_default = defineComponent({\n  name,\n  props: rateProps,\n  emits: [\"change\", \"update:modelValue\"],\n\n  setup(props, {\n    emit\n  }) {\n    const touch = useTouch();\n    const [itemRefs, setItemRefs] = useRefs();\n    const groupRef = ref();\n\n    const untouchable = () => props.readonly || props.disabled || !props.touchable;\n\n    const list = computed(() => Array(+props.count).fill(\"\").map((_, i) => getRateStatus(props.modelValue, i + 1, props.allowHalf, props.readonly)));\n    let ranges;\n    let groupRefRect;\n    let minRectTop = Number.MAX_SAFE_INTEGER;\n    let maxRectTop = Number.MIN_SAFE_INTEGER;\n\n    const updateRanges = () => {\n      groupRefRect = useRect(groupRef);\n      const rects = itemRefs.value.map(useRect);\n      ranges = [];\n      rects.forEach((rect, index) => {\n        minRectTop = Math.min(rect.top, minRectTop);\n        maxRectTop = Math.max(rect.top, maxRectTop);\n\n        if (props.allowHalf) {\n          ranges.push({\n            score: index + 0.5,\n            left: rect.left,\n            top: rect.top,\n            height: rect.height\n          }, {\n            score: index + 1,\n            left: rect.left + rect.width / 2,\n            top: rect.top,\n            height: rect.height\n          });\n        } else {\n          ranges.push({\n            score: index + 1,\n            left: rect.left,\n            top: rect.top,\n            height: rect.height\n          });\n        }\n      });\n    };\n\n    const getScoreByPosition = (x, y) => {\n      for (let i = ranges.length - 1; i > 0; i--) {\n        if (y >= groupRefRect.top && y <= groupRefRect.bottom) {\n          if (x > ranges[i].left && y >= ranges[i].top && y <= ranges[i].top + ranges[i].height) {\n            return ranges[i].score;\n          }\n        } else {\n          const curTop = y < groupRefRect.top ? minRectTop : maxRectTop;\n\n          if (x > ranges[i].left && ranges[i].top === curTop) {\n            return ranges[i].score;\n          }\n        }\n      }\n\n      return props.allowHalf ? 0.5 : 1;\n    };\n\n    const select = index => {\n      if (!props.disabled && !props.readonly && index !== props.modelValue) {\n        emit(\"update:modelValue\", index);\n        emit(\"change\", index);\n      }\n    };\n\n    const onTouchStart = event => {\n      if (untouchable()) {\n        return;\n      }\n\n      touch.start(event);\n      updateRanges();\n    };\n\n    const onTouchMove = event => {\n      if (untouchable()) {\n        return;\n      }\n\n      touch.move(event);\n\n      if (touch.isHorizontal()) {\n        const {\n          clientX,\n          clientY\n        } = event.touches[0];\n        preventDefault(event);\n        select(getScoreByPosition(clientX, clientY));\n      }\n    };\n\n    const renderStar = (item, index) => {\n      const {\n        icon,\n        size,\n        color,\n        count,\n        gutter,\n        voidIcon,\n        disabled,\n        voidColor,\n        allowHalf,\n        iconPrefix,\n        disabledColor\n      } = props;\n      const score = index + 1;\n      const isFull = item.status === \"full\";\n      const isVoid = item.status === \"void\";\n      const renderHalf = allowHalf && item.value > 0 && item.value < 1;\n      let style;\n\n      if (gutter && score !== +count) {\n        style = {\n          paddingRight: addUnit(gutter)\n        };\n      }\n\n      const onClickItem = event => {\n        updateRanges();\n        select(allowHalf ? getScoreByPosition(event.clientX, event.clientY) : score);\n      };\n\n      return _createVNode(\"div\", {\n        \"key\": index,\n        \"ref\": setItemRefs(index),\n        \"role\": \"radio\",\n        \"style\": style,\n        \"class\": bem(\"item\"),\n        \"tabindex\": disabled ? void 0 : 0,\n        \"aria-setsize\": count,\n        \"aria-posinset\": score,\n        \"aria-checked\": !isVoid,\n        \"onClick\": onClickItem\n      }, [_createVNode(Icon, {\n        \"size\": size,\n        \"name\": isFull ? icon : voidIcon,\n        \"class\": bem(\"icon\", {\n          disabled,\n          full: isFull\n        }),\n        \"color\": disabled ? disabledColor : isFull ? color : voidColor,\n        \"classPrefix\": iconPrefix\n      }, null), renderHalf && _createVNode(Icon, {\n        \"size\": size,\n        \"style\": {\n          width: item.value + \"em\"\n        },\n        \"name\": isVoid ? voidIcon : icon,\n        \"class\": bem(\"icon\", [\"half\", {\n          disabled,\n          full: !isVoid\n        }]),\n        \"color\": disabled ? disabledColor : isVoid ? voidColor : color,\n        \"classPrefix\": iconPrefix\n      }, null)]);\n    };\n\n    useCustomFieldValue(() => props.modelValue);\n    return () => _createVNode(\"div\", {\n      \"ref\": groupRef,\n      \"role\": \"radiogroup\",\n      \"class\": bem({\n        readonly: props.readonly,\n        disabled: props.disabled\n      }),\n      \"tabindex\": props.disabled ? void 0 : 0,\n      \"aria-disabled\": props.disabled,\n      \"aria-readonly\": props.readonly,\n      \"onTouchstart\": onTouchStart,\n      \"onTouchmove\": onTouchMove\n    }, [list.value.map(renderStar)]);\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","computed","defineComponent","ref","addUnit","truthProp","numericProp","preventDefault","makeStringProp","makeNumberProp","makeNumericProp","createNamespace","useRect","useCustomFieldValue","useRefs","useTouch","Icon","name","bem","getRateStatus","value","index","allowHalf","readonly","status","cardinal","Math","round","rateProps","size","icon","color","String","count","gutter","Boolean","disabled","voidIcon","voidColor","touchable","iconPrefix","modelValue","disabledColor","stdin_default","props","emits","setup","emit","touch","itemRefs","setItemRefs","groupRef","untouchable","list","Array","fill","map","_","i","ranges","groupRefRect","minRectTop","Number","MAX_SAFE_INTEGER","maxRectTop","MIN_SAFE_INTEGER","updateRanges","rects","forEach","rect","min","top","max","push","score","left","height","width","getScoreByPosition","x","y","length","bottom","curTop","select","onTouchStart","event","start","onTouchMove","move","isHorizontal","clientX","clientY","touches","renderStar","item","isFull","isVoid","renderHalf","style","paddingRight","onClickItem","full","default"],"sources":["D:/web/my-blog/node_modules/vant/es/rate/Rate.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent, ref } from \"vue\";\nimport { addUnit, truthProp, numericProp, preventDefault, makeStringProp, makeNumberProp, makeNumericProp, createNamespace } from \"../utils/index.mjs\";\nimport { useRect, useCustomFieldValue } from \"@vant/use\";\nimport { useRefs } from \"../composables/use-refs.mjs\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nconst [name, bem] = createNamespace(\"rate\");\nfunction getRateStatus(value, index, allowHalf, readonly) {\n  if (value >= index) {\n    return {\n      status: \"full\",\n      value: 1\n    };\n  }\n  if (value + 0.5 >= index && allowHalf && !readonly) {\n    return {\n      status: \"half\",\n      value: 0.5\n    };\n  }\n  if (value + 1 >= index && allowHalf && readonly) {\n    const cardinal = 10 ** 10;\n    return {\n      status: \"half\",\n      value: Math.round((value - index + 1) * cardinal) / cardinal\n    };\n  }\n  return {\n    status: \"void\",\n    value: 0\n  };\n}\nconst rateProps = {\n  size: numericProp,\n  icon: makeStringProp(\"star\"),\n  color: String,\n  count: makeNumericProp(5),\n  gutter: numericProp,\n  readonly: Boolean,\n  disabled: Boolean,\n  voidIcon: makeStringProp(\"star-o\"),\n  allowHalf: Boolean,\n  voidColor: String,\n  touchable: truthProp,\n  iconPrefix: String,\n  modelValue: makeNumberProp(0),\n  disabledColor: String\n};\nvar stdin_default = defineComponent({\n  name,\n  props: rateProps,\n  emits: [\"change\", \"update:modelValue\"],\n  setup(props, {\n    emit\n  }) {\n    const touch = useTouch();\n    const [itemRefs, setItemRefs] = useRefs();\n    const groupRef = ref();\n    const untouchable = () => props.readonly || props.disabled || !props.touchable;\n    const list = computed(() => Array(+props.count).fill(\"\").map((_, i) => getRateStatus(props.modelValue, i + 1, props.allowHalf, props.readonly)));\n    let ranges;\n    let groupRefRect;\n    let minRectTop = Number.MAX_SAFE_INTEGER;\n    let maxRectTop = Number.MIN_SAFE_INTEGER;\n    const updateRanges = () => {\n      groupRefRect = useRect(groupRef);\n      const rects = itemRefs.value.map(useRect);\n      ranges = [];\n      rects.forEach((rect, index) => {\n        minRectTop = Math.min(rect.top, minRectTop);\n        maxRectTop = Math.max(rect.top, maxRectTop);\n        if (props.allowHalf) {\n          ranges.push({\n            score: index + 0.5,\n            left: rect.left,\n            top: rect.top,\n            height: rect.height\n          }, {\n            score: index + 1,\n            left: rect.left + rect.width / 2,\n            top: rect.top,\n            height: rect.height\n          });\n        } else {\n          ranges.push({\n            score: index + 1,\n            left: rect.left,\n            top: rect.top,\n            height: rect.height\n          });\n        }\n      });\n    };\n    const getScoreByPosition = (x, y) => {\n      for (let i = ranges.length - 1; i > 0; i--) {\n        if (y >= groupRefRect.top && y <= groupRefRect.bottom) {\n          if (x > ranges[i].left && y >= ranges[i].top && y <= ranges[i].top + ranges[i].height) {\n            return ranges[i].score;\n          }\n        } else {\n          const curTop = y < groupRefRect.top ? minRectTop : maxRectTop;\n          if (x > ranges[i].left && ranges[i].top === curTop) {\n            return ranges[i].score;\n          }\n        }\n      }\n      return props.allowHalf ? 0.5 : 1;\n    };\n    const select = (index) => {\n      if (!props.disabled && !props.readonly && index !== props.modelValue) {\n        emit(\"update:modelValue\", index);\n        emit(\"change\", index);\n      }\n    };\n    const onTouchStart = (event) => {\n      if (untouchable()) {\n        return;\n      }\n      touch.start(event);\n      updateRanges();\n    };\n    const onTouchMove = (event) => {\n      if (untouchable()) {\n        return;\n      }\n      touch.move(event);\n      if (touch.isHorizontal()) {\n        const {\n          clientX,\n          clientY\n        } = event.touches[0];\n        preventDefault(event);\n        select(getScoreByPosition(clientX, clientY));\n      }\n    };\n    const renderStar = (item, index) => {\n      const {\n        icon,\n        size,\n        color,\n        count,\n        gutter,\n        voidIcon,\n        disabled,\n        voidColor,\n        allowHalf,\n        iconPrefix,\n        disabledColor\n      } = props;\n      const score = index + 1;\n      const isFull = item.status === \"full\";\n      const isVoid = item.status === \"void\";\n      const renderHalf = allowHalf && item.value > 0 && item.value < 1;\n      let style;\n      if (gutter && score !== +count) {\n        style = {\n          paddingRight: addUnit(gutter)\n        };\n      }\n      const onClickItem = (event) => {\n        updateRanges();\n        select(allowHalf ? getScoreByPosition(event.clientX, event.clientY) : score);\n      };\n      return _createVNode(\"div\", {\n        \"key\": index,\n        \"ref\": setItemRefs(index),\n        \"role\": \"radio\",\n        \"style\": style,\n        \"class\": bem(\"item\"),\n        \"tabindex\": disabled ? void 0 : 0,\n        \"aria-setsize\": count,\n        \"aria-posinset\": score,\n        \"aria-checked\": !isVoid,\n        \"onClick\": onClickItem\n      }, [_createVNode(Icon, {\n        \"size\": size,\n        \"name\": isFull ? icon : voidIcon,\n        \"class\": bem(\"icon\", {\n          disabled,\n          full: isFull\n        }),\n        \"color\": disabled ? disabledColor : isFull ? color : voidColor,\n        \"classPrefix\": iconPrefix\n      }, null), renderHalf && _createVNode(Icon, {\n        \"size\": size,\n        \"style\": {\n          width: item.value + \"em\"\n        },\n        \"name\": isVoid ? voidIcon : icon,\n        \"class\": bem(\"icon\", [\"half\", {\n          disabled,\n          full: !isVoid\n        }]),\n        \"color\": disabled ? disabledColor : isVoid ? voidColor : color,\n        \"classPrefix\": iconPrefix\n      }, null)]);\n    };\n    useCustomFieldValue(() => props.modelValue);\n    return () => _createVNode(\"div\", {\n      \"ref\": groupRef,\n      \"role\": \"radiogroup\",\n      \"class\": bem({\n        readonly: props.readonly,\n        disabled: props.disabled\n      }),\n      \"tabindex\": props.disabled ? void 0 : 0,\n      \"aria-disabled\": props.disabled,\n      \"aria-readonly\": props.readonly,\n      \"onTouchstart\": onTouchStart,\n      \"onTouchmove\": onTouchMove\n    }, [list.value.map(renderStar)]);\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
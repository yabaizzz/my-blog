{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent, getCurrentInstance } from \"vue\";\nimport { createNamespace, extend, isObject, numericProp } from \"../utils/index.mjs\";\nimport { TABBAR_KEY } from \"../tabbar/Tabbar.mjs\";\nimport { useParent } from \"@vant/use\";\nimport { routeProps, useRoute } from \"../composables/use-route.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Badge } from \"../badge/index.mjs\";\nconst [name, bem] = createNamespace(\"tabbar-item\");\nconst tabbarItemProps = extend({}, routeProps, {\n  dot: Boolean,\n  icon: String,\n  name: numericProp,\n  badge: numericProp,\n  badgeProps: Object,\n  iconPrefix: String\n});\nvar stdin_default = defineComponent({\n  name,\n  props: tabbarItemProps,\n  emits: [\"click\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const route = useRoute();\n    const vm = getCurrentInstance().proxy;\n    const {\n      parent,\n      index\n    } = useParent(TABBAR_KEY);\n\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <TabbarItem> must be a child component of <Tabbar>.\");\n      }\n\n      return;\n    }\n\n    const active = computed(() => {\n      var _a;\n\n      const {\n        route: route2,\n        modelValue\n      } = parent.props;\n\n      if (route2 && \"$route\" in vm) {\n        const {\n          $route\n        } = vm;\n        const {\n          to\n        } = props;\n        const config = isObject(to) ? to : {\n          path: to\n        };\n        return !!$route.matched.find(val => {\n          const pathMatched = \"path\" in config && config.path === val.path;\n          const nameMatched = \"name\" in config && config.name === val.name;\n          return pathMatched || nameMatched;\n        });\n      }\n\n      return ((_a = props.name) != null ? _a : index.value) === modelValue;\n    });\n\n    const onClick = event => {\n      var _a;\n\n      if (!active.value) {\n        parent.setActive((_a = props.name) != null ? _a : index.value, route);\n      }\n\n      emit(\"click\", event);\n    };\n\n    const renderIcon = () => {\n      if (slots.icon) {\n        return slots.icon({\n          active: active.value\n        });\n      }\n\n      if (props.icon) {\n        return _createVNode(Icon, {\n          \"name\": props.icon,\n          \"classPrefix\": props.iconPrefix\n        }, null);\n      }\n    };\n\n    return () => {\n      var _a;\n\n      const {\n        dot,\n        badge\n      } = props;\n      const {\n        activeColor,\n        inactiveColor\n      } = parent.props;\n      const color = active.value ? activeColor : inactiveColor;\n      return _createVNode(\"div\", {\n        \"role\": \"tab\",\n        \"class\": bem({\n          active: active.value\n        }),\n        \"style\": {\n          color\n        },\n        \"tabindex\": 0,\n        \"aria-selected\": active.value,\n        \"onClick\": onClick\n      }, [_createVNode(Badge, _mergeProps({\n        \"dot\": dot,\n        \"class\": bem(\"icon\"),\n        \"content\": badge\n      }, props.badgeProps), {\n        default: renderIcon\n      }), _createVNode(\"div\", {\n        \"class\": bem(\"text\")\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots, {\n        active: active.value\n      })])]);\n    };\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"names":["mergeProps","_mergeProps","createVNode","_createVNode","computed","defineComponent","getCurrentInstance","createNamespace","extend","isObject","numericProp","TABBAR_KEY","useParent","routeProps","useRoute","Icon","Badge","name","bem","tabbarItemProps","dot","Boolean","icon","String","badge","badgeProps","Object","iconPrefix","stdin_default","props","emits","setup","emit","slots","route","vm","proxy","parent","index","process","env","NODE_ENV","console","error","active","_a","route2","modelValue","$route","to","config","path","matched","find","val","pathMatched","nameMatched","value","onClick","event","setActive","renderIcon","activeColor","inactiveColor","color","default","call"],"sources":["D:/web/my-blog/node_modules/vant/es/tabbar-item/TabbarItem.mjs"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent, getCurrentInstance } from \"vue\";\nimport { createNamespace, extend, isObject, numericProp } from \"../utils/index.mjs\";\nimport { TABBAR_KEY } from \"../tabbar/Tabbar.mjs\";\nimport { useParent } from \"@vant/use\";\nimport { routeProps, useRoute } from \"../composables/use-route.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Badge } from \"../badge/index.mjs\";\nconst [name, bem] = createNamespace(\"tabbar-item\");\nconst tabbarItemProps = extend({}, routeProps, {\n  dot: Boolean,\n  icon: String,\n  name: numericProp,\n  badge: numericProp,\n  badgeProps: Object,\n  iconPrefix: String\n});\nvar stdin_default = defineComponent({\n  name,\n  props: tabbarItemProps,\n  emits: [\"click\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const route = useRoute();\n    const vm = getCurrentInstance().proxy;\n    const {\n      parent,\n      index\n    } = useParent(TABBAR_KEY);\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <TabbarItem> must be a child component of <Tabbar>.\");\n      }\n      return;\n    }\n    const active = computed(() => {\n      var _a;\n      const {\n        route: route2,\n        modelValue\n      } = parent.props;\n      if (route2 && \"$route\" in vm) {\n        const {\n          $route\n        } = vm;\n        const {\n          to\n        } = props;\n        const config = isObject(to) ? to : {\n          path: to\n        };\n        return !!$route.matched.find((val) => {\n          const pathMatched = \"path\" in config && config.path === val.path;\n          const nameMatched = \"name\" in config && config.name === val.name;\n          return pathMatched || nameMatched;\n        });\n      }\n      return ((_a = props.name) != null ? _a : index.value) === modelValue;\n    });\n    const onClick = (event) => {\n      var _a;\n      if (!active.value) {\n        parent.setActive((_a = props.name) != null ? _a : index.value, route);\n      }\n      emit(\"click\", event);\n    };\n    const renderIcon = () => {\n      if (slots.icon) {\n        return slots.icon({\n          active: active.value\n        });\n      }\n      if (props.icon) {\n        return _createVNode(Icon, {\n          \"name\": props.icon,\n          \"classPrefix\": props.iconPrefix\n        }, null);\n      }\n    };\n    return () => {\n      var _a;\n      const {\n        dot,\n        badge\n      } = props;\n      const {\n        activeColor,\n        inactiveColor\n      } = parent.props;\n      const color = active.value ? activeColor : inactiveColor;\n      return _createVNode(\"div\", {\n        \"role\": \"tab\",\n        \"class\": bem({\n          active: active.value\n        }),\n        \"style\": {\n          color\n        },\n        \"tabindex\": 0,\n        \"aria-selected\": active.value,\n        \"onClick\": onClick\n      }, [_createVNode(Badge, _mergeProps({\n        \"dot\": dot,\n        \"class\": bem(\"icon\"),\n        \"content\": badge\n      }, props.badgeProps), {\n        default: renderIcon\n      }), _createVNode(\"div\", {\n        \"class\": bem(\"text\")\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots, {\n        active: active.value\n      })])]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { nextTick, defineComponent } from \"vue\";\nimport { pick, extend, truthProp, makeArrayProp, makeStringProp, createNamespace, HAPTICS_FEEDBACK } from \"../utils/index.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared.mjs\";\nconst [name, bem] = createNamespace(\"action-sheet\");\nconst actionSheetProps = extend({}, popupSharedProps, {\n  title: String,\n  round: truthProp,\n  actions: makeArrayProp(),\n  closeIcon: makeStringProp(\"cross\"),\n  closeable: truthProp,\n  cancelText: String,\n  description: String,\n  closeOnPopstate: truthProp,\n  closeOnClickAction: Boolean,\n  safeAreaInsetBottom: truthProp\n});\nconst popupInheritKeys = [...popupSharedPropKeys, \"round\", \"closeOnPopstate\", \"safeAreaInsetBottom\"];\nvar stdin_default = defineComponent({\n  name,\n  props: actionSheetProps,\n  emits: [\"select\", \"cancel\", \"update:show\"],\n\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const updateShow = show => emit(\"update:show\", show);\n\n    const onCancel = () => {\n      updateShow(false);\n      emit(\"cancel\");\n    };\n\n    const renderHeader = () => {\n      if (props.title) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\")\n        }, [props.title, props.closeable && _createVNode(Icon, {\n          \"name\": props.closeIcon,\n          \"class\": [bem(\"close\"), HAPTICS_FEEDBACK],\n          \"onClick\": onCancel\n        }, null)]);\n      }\n    };\n\n    const renderCancel = () => {\n      if (slots.cancel || props.cancelText) {\n        return [_createVNode(\"div\", {\n          \"class\": bem(\"gap\")\n        }, null), _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"class\": bem(\"cancel\"),\n          \"onClick\": onCancel\n        }, [slots.cancel ? slots.cancel() : props.cancelText])];\n      }\n    };\n\n    const renderActionContent = (action, index) => {\n      if (action.loading) {\n        return _createVNode(Loading, {\n          \"class\": bem(\"loading-icon\")\n        }, null);\n      }\n\n      if (slots.action) {\n        return slots.action({\n          action,\n          index\n        });\n      }\n\n      return [_createVNode(\"span\", {\n        \"class\": bem(\"name\")\n      }, [action.name]), action.subname && _createVNode(\"div\", {\n        \"class\": bem(\"subname\")\n      }, [action.subname])];\n    };\n\n    const renderAction = (action, index) => {\n      const {\n        color,\n        loading,\n        callback,\n        disabled,\n        className\n      } = action;\n\n      const onClick = () => {\n        if (disabled || loading) {\n          return;\n        }\n\n        if (callback) {\n          callback(action);\n        }\n\n        if (props.closeOnClickAction) {\n          updateShow(false);\n        }\n\n        nextTick(() => emit(\"select\", action, index));\n      };\n\n      return _createVNode(\"button\", {\n        \"type\": \"button\",\n        \"style\": {\n          color\n        },\n        \"class\": [bem(\"item\", {\n          loading,\n          disabled\n        }), className],\n        \"onClick\": onClick\n      }, [renderActionContent(action, index)]);\n    };\n\n    const renderDescription = () => {\n      if (props.description || slots.description) {\n        const content = slots.description ? slots.description() : props.description;\n        return _createVNode(\"div\", {\n          \"class\": bem(\"description\")\n        }, [content]);\n      }\n    };\n\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": bem(),\n      \"position\": \"bottom\",\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritKeys)), {\n      default: () => {\n        var _a;\n\n        return [renderHeader(), renderDescription(), _createVNode(\"div\", {\n          \"class\": bem(\"content\")\n        }, [props.actions.map(renderAction), (_a = slots.default) == null ? void 0 : _a.call(slots)]), renderCancel()];\n      }\n    });\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"names":["mergeProps","_mergeProps","createVNode","_createVNode","nextTick","defineComponent","pick","extend","truthProp","makeArrayProp","makeStringProp","createNamespace","HAPTICS_FEEDBACK","Icon","Popup","Loading","popupSharedProps","popupSharedPropKeys","name","bem","actionSheetProps","title","String","round","actions","closeIcon","closeable","cancelText","description","closeOnPopstate","closeOnClickAction","Boolean","safeAreaInsetBottom","popupInheritKeys","stdin_default","props","emits","setup","slots","emit","updateShow","show","onCancel","renderHeader","renderCancel","cancel","renderActionContent","action","index","loading","subname","renderAction","color","callback","disabled","className","onClick","renderDescription","content","default","_a","map","call"],"sources":["D:/web/my-blog/node_modules/vant/es/action-sheet/ActionSheet.mjs"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { nextTick, defineComponent } from \"vue\";\nimport { pick, extend, truthProp, makeArrayProp, makeStringProp, createNamespace, HAPTICS_FEEDBACK } from \"../utils/index.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared.mjs\";\nconst [name, bem] = createNamespace(\"action-sheet\");\nconst actionSheetProps = extend({}, popupSharedProps, {\n  title: String,\n  round: truthProp,\n  actions: makeArrayProp(),\n  closeIcon: makeStringProp(\"cross\"),\n  closeable: truthProp,\n  cancelText: String,\n  description: String,\n  closeOnPopstate: truthProp,\n  closeOnClickAction: Boolean,\n  safeAreaInsetBottom: truthProp\n});\nconst popupInheritKeys = [...popupSharedPropKeys, \"round\", \"closeOnPopstate\", \"safeAreaInsetBottom\"];\nvar stdin_default = defineComponent({\n  name,\n  props: actionSheetProps,\n  emits: [\"select\", \"cancel\", \"update:show\"],\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const updateShow = (show) => emit(\"update:show\", show);\n    const onCancel = () => {\n      updateShow(false);\n      emit(\"cancel\");\n    };\n    const renderHeader = () => {\n      if (props.title) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\")\n        }, [props.title, props.closeable && _createVNode(Icon, {\n          \"name\": props.closeIcon,\n          \"class\": [bem(\"close\"), HAPTICS_FEEDBACK],\n          \"onClick\": onCancel\n        }, null)]);\n      }\n    };\n    const renderCancel = () => {\n      if (slots.cancel || props.cancelText) {\n        return [_createVNode(\"div\", {\n          \"class\": bem(\"gap\")\n        }, null), _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"class\": bem(\"cancel\"),\n          \"onClick\": onCancel\n        }, [slots.cancel ? slots.cancel() : props.cancelText])];\n      }\n    };\n    const renderActionContent = (action, index) => {\n      if (action.loading) {\n        return _createVNode(Loading, {\n          \"class\": bem(\"loading-icon\")\n        }, null);\n      }\n      if (slots.action) {\n        return slots.action({\n          action,\n          index\n        });\n      }\n      return [_createVNode(\"span\", {\n        \"class\": bem(\"name\")\n      }, [action.name]), action.subname && _createVNode(\"div\", {\n        \"class\": bem(\"subname\")\n      }, [action.subname])];\n    };\n    const renderAction = (action, index) => {\n      const {\n        color,\n        loading,\n        callback,\n        disabled,\n        className\n      } = action;\n      const onClick = () => {\n        if (disabled || loading) {\n          return;\n        }\n        if (callback) {\n          callback(action);\n        }\n        if (props.closeOnClickAction) {\n          updateShow(false);\n        }\n        nextTick(() => emit(\"select\", action, index));\n      };\n      return _createVNode(\"button\", {\n        \"type\": \"button\",\n        \"style\": {\n          color\n        },\n        \"class\": [bem(\"item\", {\n          loading,\n          disabled\n        }), className],\n        \"onClick\": onClick\n      }, [renderActionContent(action, index)]);\n    };\n    const renderDescription = () => {\n      if (props.description || slots.description) {\n        const content = slots.description ? slots.description() : props.description;\n        return _createVNode(\"div\", {\n          \"class\": bem(\"description\")\n        }, [content]);\n      }\n    };\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": bem(),\n      \"position\": \"bottom\",\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritKeys)), {\n      default: () => {\n        var _a;\n        return [renderHeader(), renderDescription(), _createVNode(\"div\", {\n          \"class\": bem(\"content\")\n        }, [props.actions.map(renderAction), (_a = slots.default) == null ? void 0 : _a.call(slots)]), renderCancel()];\n      }\n    });\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
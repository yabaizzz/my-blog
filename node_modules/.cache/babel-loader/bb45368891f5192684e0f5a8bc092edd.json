{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { ref, computed, defineComponent } from \"vue\";\nimport { clamp, addUnit, addNumber, numericProp, getSizeStyle, preventDefault, stopPropagation, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\nimport { useRect, useCustomFieldValue } from \"@vant/use\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nconst [name, bem] = createNamespace(\"slider\");\nconst sliderProps = {\n  min: makeNumericProp(0),\n  max: makeNumericProp(100),\n  step: makeNumericProp(1),\n  range: Boolean,\n  reverse: Boolean,\n  disabled: Boolean,\n  readonly: Boolean,\n  vertical: Boolean,\n  barHeight: numericProp,\n  buttonSize: numericProp,\n  activeColor: String,\n  inactiveColor: String,\n  modelValue: {\n    type: [Number, Array],\n    default: 0\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: sliderProps,\n  emits: [\"change\", \"drag-end\", \"drag-start\", \"update:modelValue\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    let buttonIndex;\n    let current;\n    let startValue;\n    const root = ref();\n    const dragStatus = ref();\n    const touch = useTouch();\n    const scope = computed(() => Number(props.max) - Number(props.min));\n    const wrapperStyle = computed(() => {\n      const crossAxis = props.vertical ? \"width\" : \"height\";\n      return {\n        background: props.inactiveColor,\n        [crossAxis]: addUnit(props.barHeight)\n      };\n    });\n\n    const isRange = val => props.range && Array.isArray(val);\n\n    const calcMainAxis = () => {\n      const {\n        modelValue,\n        min\n      } = props;\n\n      if (isRange(modelValue)) {\n        return `${(modelValue[1] - modelValue[0]) * 100 / scope.value}%`;\n      }\n\n      return `${(modelValue - Number(min)) * 100 / scope.value}%`;\n    };\n\n    const calcOffset = () => {\n      const {\n        modelValue,\n        min\n      } = props;\n\n      if (isRange(modelValue)) {\n        return `${(modelValue[0] - Number(min)) * 100 / scope.value}%`;\n      }\n\n      return \"0%\";\n    };\n\n    const barStyle = computed(() => {\n      const mainAxis = props.vertical ? \"height\" : \"width\";\n      const style = {\n        [mainAxis]: calcMainAxis(),\n        background: props.activeColor\n      };\n\n      if (dragStatus.value) {\n        style.transition = \"none\";\n      }\n\n      const getPositionKey = () => {\n        if (props.vertical) {\n          return props.reverse ? \"bottom\" : \"top\";\n        }\n\n        return props.reverse ? \"right\" : \"left\";\n      };\n\n      style[getPositionKey()] = calcOffset();\n      return style;\n    });\n\n    const format = value => {\n      const min = +props.min;\n      const max = +props.max;\n      const step = +props.step;\n      value = clamp(value, min, max);\n      const diff = Math.round((value - min) / step) * step;\n      return addNumber(min, diff);\n    };\n\n    const isSameValue = (newValue, oldValue) => JSON.stringify(newValue) === JSON.stringify(oldValue);\n\n    const handleRangeValue = value => {\n      var _a, _b;\n\n      const left = (_a = value[0]) != null ? _a : Number(props.min);\n      const right = (_b = value[1]) != null ? _b : Number(props.max);\n      return left > right ? [right, left] : [left, right];\n    };\n\n    const updateValue = (value, end) => {\n      if (isRange(value)) {\n        value = handleRangeValue(value).map(format);\n      } else {\n        value = format(value);\n      }\n\n      if (!isSameValue(value, props.modelValue)) {\n        emit(\"update:modelValue\", value);\n      }\n\n      if (end && !isSameValue(value, startValue)) {\n        emit(\"change\", value);\n      }\n    };\n\n    const onClick = event => {\n      event.stopPropagation();\n\n      if (props.disabled || props.readonly) {\n        return;\n      }\n\n      const {\n        min,\n        reverse,\n        vertical,\n        modelValue\n      } = props;\n      const rect = useRect(root);\n\n      const getDelta = () => {\n        if (vertical) {\n          if (reverse) {\n            return rect.bottom - event.clientY;\n          }\n\n          return event.clientY - rect.top;\n        }\n\n        if (reverse) {\n          return rect.right - event.clientX;\n        }\n\n        return event.clientX - rect.left;\n      };\n\n      const total = vertical ? rect.height : rect.width;\n      const value = Number(min) + getDelta() / total * scope.value;\n\n      if (isRange(modelValue)) {\n        const [left, right] = modelValue;\n        const middle = (left + right) / 2;\n\n        if (value <= middle) {\n          updateValue([value, right], true);\n        } else {\n          updateValue([left, value], true);\n        }\n      } else {\n        updateValue(value, true);\n      }\n    };\n\n    const onTouchStart = event => {\n      if (props.disabled || props.readonly) {\n        return;\n      }\n\n      touch.start(event);\n      current = props.modelValue;\n\n      if (isRange(current)) {\n        startValue = current.map(format);\n      } else {\n        startValue = format(current);\n      }\n\n      dragStatus.value = \"start\";\n    };\n\n    const onTouchMove = event => {\n      if (props.disabled || props.readonly) {\n        return;\n      }\n\n      if (dragStatus.value === \"start\") {\n        emit(\"drag-start\", event);\n      }\n\n      preventDefault(event, true);\n      touch.move(event);\n      dragStatus.value = \"dragging\";\n      const rect = useRect(root);\n      const delta = props.vertical ? touch.deltaY.value : touch.deltaX.value;\n      const total = props.vertical ? rect.height : rect.width;\n      let diff = delta / total * scope.value;\n\n      if (props.reverse) {\n        diff = -diff;\n      }\n\n      if (isRange(startValue)) {\n        const index = props.reverse ? 1 - buttonIndex : buttonIndex;\n        current[index] = startValue[index] + diff;\n      } else {\n        current = startValue + diff;\n      }\n\n      updateValue(current);\n    };\n\n    const onTouchEnd = event => {\n      if (props.disabled || props.readonly) {\n        return;\n      }\n\n      if (dragStatus.value === \"dragging\") {\n        updateValue(current, true);\n        emit(\"drag-end\", event);\n      }\n\n      dragStatus.value = \"\";\n    };\n\n    const getButtonClassName = index => {\n      if (typeof index === \"number\") {\n        const position = [\"left\", \"right\"];\n        return bem(`button-wrapper`, position[index]);\n      }\n\n      return bem(\"button-wrapper\", props.reverse ? \"left\" : \"right\");\n    };\n\n    const renderButtonContent = (value, index) => {\n      if (typeof index === \"number\") {\n        const slot = slots[index === 0 ? \"left-button\" : \"right-button\"];\n\n        if (slot) {\n          return slot({\n            value\n          });\n        }\n      }\n\n      if (slots.button) {\n        return slots.button({\n          value\n        });\n      }\n\n      return _createVNode(\"div\", {\n        \"class\": bem(\"button\"),\n        \"style\": getSizeStyle(props.buttonSize)\n      }, null);\n    };\n\n    const renderButton = index => {\n      const current2 = typeof index === \"number\" ? props.modelValue[index] : props.modelValue;\n      return _createVNode(\"div\", {\n        \"role\": \"slider\",\n        \"class\": getButtonClassName(index),\n        \"tabindex\": props.disabled ? void 0 : 0,\n        \"aria-valuemin\": props.min,\n        \"aria-valuenow\": current2,\n        \"aria-valuemax\": props.max,\n        \"aria-disabled\": props.disabled || void 0,\n        \"aria-readonly\": props.readonly || void 0,\n        \"aria-orientation\": props.vertical ? \"vertical\" : \"horizontal\",\n        \"onTouchstart\": event => {\n          if (typeof index === \"number\") {\n            buttonIndex = index;\n          }\n\n          onTouchStart(event);\n        },\n        \"onTouchmove\": onTouchMove,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd,\n        \"onClick\": stopPropagation\n      }, [renderButtonContent(current2, index)]);\n    };\n\n    updateValue(props.modelValue);\n    useCustomFieldValue(() => props.modelValue);\n    return () => _createVNode(\"div\", {\n      \"ref\": root,\n      \"style\": wrapperStyle.value,\n      \"class\": bem({\n        vertical: props.vertical,\n        disabled: props.disabled\n      }),\n      \"onClick\": onClick\n    }, [_createVNode(\"div\", {\n      \"class\": bem(\"bar\"),\n      \"style\": barStyle.value\n    }, [props.range ? [renderButton(0), renderButton(1)] : renderButton()])]);\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","ref","computed","defineComponent","clamp","addUnit","addNumber","numericProp","getSizeStyle","preventDefault","stopPropagation","createNamespace","makeNumericProp","useRect","useCustomFieldValue","useTouch","name","bem","sliderProps","min","max","step","range","Boolean","reverse","disabled","readonly","vertical","barHeight","buttonSize","activeColor","String","inactiveColor","modelValue","type","Number","Array","default","stdin_default","props","emits","setup","emit","slots","buttonIndex","current","startValue","root","dragStatus","touch","scope","wrapperStyle","crossAxis","background","isRange","val","isArray","calcMainAxis","value","calcOffset","barStyle","mainAxis","style","transition","getPositionKey","format","diff","Math","round","isSameValue","newValue","oldValue","JSON","stringify","handleRangeValue","_a","_b","left","right","updateValue","end","map","onClick","event","rect","getDelta","bottom","clientY","top","clientX","total","height","width","middle","onTouchStart","start","onTouchMove","move","delta","deltaY","deltaX","index","onTouchEnd","getButtonClassName","position","renderButtonContent","slot","button","renderButton","current2"],"sources":["D:/web/my-blog/node_modules/vant/es/slider/Slider.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { ref, computed, defineComponent } from \"vue\";\nimport { clamp, addUnit, addNumber, numericProp, getSizeStyle, preventDefault, stopPropagation, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\nimport { useRect, useCustomFieldValue } from \"@vant/use\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nconst [name, bem] = createNamespace(\"slider\");\nconst sliderProps = {\n  min: makeNumericProp(0),\n  max: makeNumericProp(100),\n  step: makeNumericProp(1),\n  range: Boolean,\n  reverse: Boolean,\n  disabled: Boolean,\n  readonly: Boolean,\n  vertical: Boolean,\n  barHeight: numericProp,\n  buttonSize: numericProp,\n  activeColor: String,\n  inactiveColor: String,\n  modelValue: {\n    type: [Number, Array],\n    default: 0\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: sliderProps,\n  emits: [\"change\", \"drag-end\", \"drag-start\", \"update:modelValue\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    let buttonIndex;\n    let current;\n    let startValue;\n    const root = ref();\n    const dragStatus = ref();\n    const touch = useTouch();\n    const scope = computed(() => Number(props.max) - Number(props.min));\n    const wrapperStyle = computed(() => {\n      const crossAxis = props.vertical ? \"width\" : \"height\";\n      return {\n        background: props.inactiveColor,\n        [crossAxis]: addUnit(props.barHeight)\n      };\n    });\n    const isRange = (val) => props.range && Array.isArray(val);\n    const calcMainAxis = () => {\n      const {\n        modelValue,\n        min\n      } = props;\n      if (isRange(modelValue)) {\n        return `${(modelValue[1] - modelValue[0]) * 100 / scope.value}%`;\n      }\n      return `${(modelValue - Number(min)) * 100 / scope.value}%`;\n    };\n    const calcOffset = () => {\n      const {\n        modelValue,\n        min\n      } = props;\n      if (isRange(modelValue)) {\n        return `${(modelValue[0] - Number(min)) * 100 / scope.value}%`;\n      }\n      return \"0%\";\n    };\n    const barStyle = computed(() => {\n      const mainAxis = props.vertical ? \"height\" : \"width\";\n      const style = {\n        [mainAxis]: calcMainAxis(),\n        background: props.activeColor\n      };\n      if (dragStatus.value) {\n        style.transition = \"none\";\n      }\n      const getPositionKey = () => {\n        if (props.vertical) {\n          return props.reverse ? \"bottom\" : \"top\";\n        }\n        return props.reverse ? \"right\" : \"left\";\n      };\n      style[getPositionKey()] = calcOffset();\n      return style;\n    });\n    const format = (value) => {\n      const min = +props.min;\n      const max = +props.max;\n      const step = +props.step;\n      value = clamp(value, min, max);\n      const diff = Math.round((value - min) / step) * step;\n      return addNumber(min, diff);\n    };\n    const isSameValue = (newValue, oldValue) => JSON.stringify(newValue) === JSON.stringify(oldValue);\n    const handleRangeValue = (value) => {\n      var _a, _b;\n      const left = (_a = value[0]) != null ? _a : Number(props.min);\n      const right = (_b = value[1]) != null ? _b : Number(props.max);\n      return left > right ? [right, left] : [left, right];\n    };\n    const updateValue = (value, end) => {\n      if (isRange(value)) {\n        value = handleRangeValue(value).map(format);\n      } else {\n        value = format(value);\n      }\n      if (!isSameValue(value, props.modelValue)) {\n        emit(\"update:modelValue\", value);\n      }\n      if (end && !isSameValue(value, startValue)) {\n        emit(\"change\", value);\n      }\n    };\n    const onClick = (event) => {\n      event.stopPropagation();\n      if (props.disabled || props.readonly) {\n        return;\n      }\n      const {\n        min,\n        reverse,\n        vertical,\n        modelValue\n      } = props;\n      const rect = useRect(root);\n      const getDelta = () => {\n        if (vertical) {\n          if (reverse) {\n            return rect.bottom - event.clientY;\n          }\n          return event.clientY - rect.top;\n        }\n        if (reverse) {\n          return rect.right - event.clientX;\n        }\n        return event.clientX - rect.left;\n      };\n      const total = vertical ? rect.height : rect.width;\n      const value = Number(min) + getDelta() / total * scope.value;\n      if (isRange(modelValue)) {\n        const [left, right] = modelValue;\n        const middle = (left + right) / 2;\n        if (value <= middle) {\n          updateValue([value, right], true);\n        } else {\n          updateValue([left, value], true);\n        }\n      } else {\n        updateValue(value, true);\n      }\n    };\n    const onTouchStart = (event) => {\n      if (props.disabled || props.readonly) {\n        return;\n      }\n      touch.start(event);\n      current = props.modelValue;\n      if (isRange(current)) {\n        startValue = current.map(format);\n      } else {\n        startValue = format(current);\n      }\n      dragStatus.value = \"start\";\n    };\n    const onTouchMove = (event) => {\n      if (props.disabled || props.readonly) {\n        return;\n      }\n      if (dragStatus.value === \"start\") {\n        emit(\"drag-start\", event);\n      }\n      preventDefault(event, true);\n      touch.move(event);\n      dragStatus.value = \"dragging\";\n      const rect = useRect(root);\n      const delta = props.vertical ? touch.deltaY.value : touch.deltaX.value;\n      const total = props.vertical ? rect.height : rect.width;\n      let diff = delta / total * scope.value;\n      if (props.reverse) {\n        diff = -diff;\n      }\n      if (isRange(startValue)) {\n        const index = props.reverse ? 1 - buttonIndex : buttonIndex;\n        current[index] = startValue[index] + diff;\n      } else {\n        current = startValue + diff;\n      }\n      updateValue(current);\n    };\n    const onTouchEnd = (event) => {\n      if (props.disabled || props.readonly) {\n        return;\n      }\n      if (dragStatus.value === \"dragging\") {\n        updateValue(current, true);\n        emit(\"drag-end\", event);\n      }\n      dragStatus.value = \"\";\n    };\n    const getButtonClassName = (index) => {\n      if (typeof index === \"number\") {\n        const position = [\"left\", \"right\"];\n        return bem(`button-wrapper`, position[index]);\n      }\n      return bem(\"button-wrapper\", props.reverse ? \"left\" : \"right\");\n    };\n    const renderButtonContent = (value, index) => {\n      if (typeof index === \"number\") {\n        const slot = slots[index === 0 ? \"left-button\" : \"right-button\"];\n        if (slot) {\n          return slot({\n            value\n          });\n        }\n      }\n      if (slots.button) {\n        return slots.button({\n          value\n        });\n      }\n      return _createVNode(\"div\", {\n        \"class\": bem(\"button\"),\n        \"style\": getSizeStyle(props.buttonSize)\n      }, null);\n    };\n    const renderButton = (index) => {\n      const current2 = typeof index === \"number\" ? props.modelValue[index] : props.modelValue;\n      return _createVNode(\"div\", {\n        \"role\": \"slider\",\n        \"class\": getButtonClassName(index),\n        \"tabindex\": props.disabled ? void 0 : 0,\n        \"aria-valuemin\": props.min,\n        \"aria-valuenow\": current2,\n        \"aria-valuemax\": props.max,\n        \"aria-disabled\": props.disabled || void 0,\n        \"aria-readonly\": props.readonly || void 0,\n        \"aria-orientation\": props.vertical ? \"vertical\" : \"horizontal\",\n        \"onTouchstart\": (event) => {\n          if (typeof index === \"number\") {\n            buttonIndex = index;\n          }\n          onTouchStart(event);\n        },\n        \"onTouchmove\": onTouchMove,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd,\n        \"onClick\": stopPropagation\n      }, [renderButtonContent(current2, index)]);\n    };\n    updateValue(props.modelValue);\n    useCustomFieldValue(() => props.modelValue);\n    return () => _createVNode(\"div\", {\n      \"ref\": root,\n      \"style\": wrapperStyle.value,\n      \"class\": bem({\n        vertical: props.vertical,\n        disabled: props.disabled\n      }),\n      \"onClick\": onClick\n    }, [_createVNode(\"div\", {\n      \"class\": bem(\"bar\"),\n      \"style\": barStyle.value\n    }, [props.range ? [renderButton(0), renderButton(1)] : renderButton()])]);\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
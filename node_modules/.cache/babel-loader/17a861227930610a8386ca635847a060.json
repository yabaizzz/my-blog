{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { truthProp, createNamespace, BORDER_TOP_BOTTOM } from \"../utils/index.mjs\";\nimport { useChildren } from \"@vant/use\";\nconst [name, bem] = createNamespace(\"collapse\");\nconst COLLAPSE_KEY = Symbol(name);\nconst collapseProps = {\n  border: truthProp,\n  accordion: Boolean,\n  modelValue: {\n    type: [String, Number, Array],\n    default: \"\"\n  }\n};\n\nfunction validateModelValue(modelValue, accordion) {\n  if (accordion && Array.isArray(modelValue)) {\n    console.error('[Vant] Collapse: \"v-model\" should not be Array in accordion mode');\n    return false;\n  }\n\n  if (!accordion && !Array.isArray(modelValue)) {\n    console.error('[Vant] Collapse: \"v-model\" should be Array in non-accordion mode');\n    return false;\n  }\n\n  return true;\n}\n\nvar stdin_default = defineComponent({\n  name,\n  props: collapseProps,\n  emits: [\"change\", \"update:modelValue\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      linkChildren\n    } = useChildren(COLLAPSE_KEY);\n\n    const updateName = name2 => {\n      emit(\"change\", name2);\n      emit(\"update:modelValue\", name2);\n    };\n\n    const toggle = (name2, expanded) => {\n      const {\n        accordion,\n        modelValue\n      } = props;\n\n      if (accordion) {\n        updateName(name2 === modelValue ? \"\" : name2);\n      } else if (expanded) {\n        updateName(modelValue.concat(name2));\n      } else {\n        updateName(modelValue.filter(activeName => activeName !== name2));\n      }\n    };\n\n    const isExpanded = name2 => {\n      const {\n        accordion,\n        modelValue\n      } = props;\n\n      if (process.env.NODE_ENV !== \"production\" && !validateModelValue(modelValue, accordion)) {\n        return false;\n      }\n\n      return accordion ? modelValue === name2 : modelValue.includes(name2);\n    };\n\n    linkChildren({\n      toggle,\n      isExpanded\n    });\n    return () => {\n      var _a;\n\n      return _createVNode(\"div\", {\n        \"class\": [bem(), {\n          [BORDER_TOP_BOTTOM]: props.border\n        }]\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n\n});\nexport { COLLAPSE_KEY, stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","defineComponent","truthProp","createNamespace","BORDER_TOP_BOTTOM","useChildren","name","bem","COLLAPSE_KEY","Symbol","collapseProps","border","accordion","Boolean","modelValue","type","String","Number","Array","default","validateModelValue","isArray","console","error","stdin_default","props","emits","setup","emit","slots","linkChildren","updateName","name2","toggle","expanded","concat","filter","activeName","isExpanded","process","env","NODE_ENV","includes","_a","call"],"sources":["D:/项目/my-blog/node_modules/vant/es/collapse/Collapse.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { truthProp, createNamespace, BORDER_TOP_BOTTOM } from \"../utils/index.mjs\";\nimport { useChildren } from \"@vant/use\";\nconst [name, bem] = createNamespace(\"collapse\");\nconst COLLAPSE_KEY = Symbol(name);\nconst collapseProps = {\n  border: truthProp,\n  accordion: Boolean,\n  modelValue: {\n    type: [String, Number, Array],\n    default: \"\"\n  }\n};\nfunction validateModelValue(modelValue, accordion) {\n  if (accordion && Array.isArray(modelValue)) {\n    console.error('[Vant] Collapse: \"v-model\" should not be Array in accordion mode');\n    return false;\n  }\n  if (!accordion && !Array.isArray(modelValue)) {\n    console.error('[Vant] Collapse: \"v-model\" should be Array in non-accordion mode');\n    return false;\n  }\n  return true;\n}\nvar stdin_default = defineComponent({\n  name,\n  props: collapseProps,\n  emits: [\"change\", \"update:modelValue\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      linkChildren\n    } = useChildren(COLLAPSE_KEY);\n    const updateName = (name2) => {\n      emit(\"change\", name2);\n      emit(\"update:modelValue\", name2);\n    };\n    const toggle = (name2, expanded) => {\n      const {\n        accordion,\n        modelValue\n      } = props;\n      if (accordion) {\n        updateName(name2 === modelValue ? \"\" : name2);\n      } else if (expanded) {\n        updateName(modelValue.concat(name2));\n      } else {\n        updateName(modelValue.filter((activeName) => activeName !== name2));\n      }\n    };\n    const isExpanded = (name2) => {\n      const {\n        accordion,\n        modelValue\n      } = props;\n      if (process.env.NODE_ENV !== \"production\" && !validateModelValue(modelValue, accordion)) {\n        return false;\n      }\n      return accordion ? modelValue === name2 : modelValue.includes(name2);\n    };\n    linkChildren({\n      toggle,\n      isExpanded\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"class\": [bem(), {\n          [BORDER_TOP_BOTTOM]: props.border\n        }]\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport {\n  COLLAPSE_KEY,\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
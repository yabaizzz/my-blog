{"ast":null,"code":"(function () {\n  function install(Vue) {\n    var setWechatTitle = function (title, img) {\n      if (title === undefined || window.document.title === title) {\n        return;\n      }\n\n      document.title = title;\n      var mobile = navigator.userAgent.toLowerCase();\n\n      if (/iphone|ipad|ipod/.test(mobile)) {\n        var iframe = document.createElement('iframe');\n        iframe.style.display = 'none'; // 替换成站标favicon路径或者任意存在的较小的图片即可，支付宝小程序引用默认空白的base64图片会有安全警告\n\n        var _img = /alipay/.test(mobile) ? img : img || 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\n        _img && iframe.setAttribute('src', _img);\n\n        var iframeCallback = function () {\n          setTimeout(function () {\n            iframe.removeEventListener('load', iframeCallback);\n            document.body.removeChild(iframe);\n          }, 0);\n        };\n\n        iframe.addEventListener('load', iframeCallback);\n        document.body.appendChild(iframe);\n      }\n    };\n\n    Vue.directive('wechat-title', function (el, binding) {\n      setWechatTitle(binding.value, el.getAttribute('img-set') || null);\n    });\n  }\n\n  if (typeof exports === 'object') {\n    module.exports = install;\n  } else if (typeof define === 'function' && define.amd) {\n    define([], function () {\n      return install;\n    });\n  } else if (window.Vue) {\n    Vue.use(install);\n  }\n})();","map":{"version":3,"names":["install","Vue","setWechatTitle","title","img","undefined","window","document","mobile","navigator","userAgent","toLowerCase","test","iframe","createElement","style","display","_img","setAttribute","iframeCallback","setTimeout","removeEventListener","body","removeChild","addEventListener","appendChild","directive","el","binding","value","getAttribute","exports","module","define","amd","use"],"sources":["D:/web/my-blog/node_modules/vue-wechat-title/vue-wechat-title.js"],"sourcesContent":["(function () {\n  function install (Vue) {\n    var setWechatTitle = function (title, img) {\n      if (title === undefined || window.document.title === title) {\n        return\n      }\n      document.title = title\n      var mobile = navigator.userAgent.toLowerCase()\n      if (/iphone|ipad|ipod/.test(mobile)) {\n        var iframe = document.createElement('iframe')\n        iframe.style.display = 'none'\n        // 替换成站标favicon路径或者任意存在的较小的图片即可，支付宝小程序引用默认空白的base64图片会有安全警告\n        var _img = /alipay/.test(mobile) ? img : (img || 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');\n        _img && iframe.setAttribute('src', _img)\n        var iframeCallback = function () {\n          setTimeout(function () {\n            iframe.removeEventListener('load', iframeCallback)\n            document.body.removeChild(iframe)\n          }, 0)\n        }\n        iframe.addEventListener('load', iframeCallback)\n        document.body.appendChild(iframe)\n      }\n    }\n    Vue.directive('wechat-title', function (el, binding) {\n      setWechatTitle(binding.value, el.getAttribute('img-set') || null)\n    })\n  }\n\n  if (typeof exports === 'object') {\n    module.exports = install\n  } else if (typeof define === 'function' && define.amd) {\n    define([], function () {\n      return install\n    })\n  } else if (window.Vue) {\n    Vue.use(install)\n  }\n})()\n"],"mappings":"AAAA,CAAC,YAAY;EACX,SAASA,OAAT,CAAkBC,GAAlB,EAAuB;IACrB,IAAIC,cAAc,GAAG,UAAUC,KAAV,EAAiBC,GAAjB,EAAsB;MACzC,IAAID,KAAK,KAAKE,SAAV,IAAuBC,MAAM,CAACC,QAAP,CAAgBJ,KAAhB,KAA0BA,KAArD,EAA4D;QAC1D;MACD;;MACDI,QAAQ,CAACJ,KAAT,GAAiBA,KAAjB;MACA,IAAIK,MAAM,GAAGC,SAAS,CAACC,SAAV,CAAoBC,WAApB,EAAb;;MACA,IAAI,mBAAmBC,IAAnB,CAAwBJ,MAAxB,CAAJ,EAAqC;QACnC,IAAIK,MAAM,GAAGN,QAAQ,CAACO,aAAT,CAAuB,QAAvB,CAAb;QACAD,MAAM,CAACE,KAAP,CAAaC,OAAb,GAAuB,MAAvB,CAFmC,CAGnC;;QACA,IAAIC,IAAI,GAAG,SAASL,IAAT,CAAcJ,MAAd,IAAwBJ,GAAxB,GAA+BA,GAAG,IAAI,gFAAjD;;QACAa,IAAI,IAAIJ,MAAM,CAACK,YAAP,CAAoB,KAApB,EAA2BD,IAA3B,CAAR;;QACA,IAAIE,cAAc,GAAG,YAAY;UAC/BC,UAAU,CAAC,YAAY;YACrBP,MAAM,CAACQ,mBAAP,CAA2B,MAA3B,EAAmCF,cAAnC;YACAZ,QAAQ,CAACe,IAAT,CAAcC,WAAd,CAA0BV,MAA1B;UACD,CAHS,EAGP,CAHO,CAAV;QAID,CALD;;QAMAA,MAAM,CAACW,gBAAP,CAAwB,MAAxB,EAAgCL,cAAhC;QACAZ,QAAQ,CAACe,IAAT,CAAcG,WAAd,CAA0BZ,MAA1B;MACD;IACF,CArBD;;IAsBAZ,GAAG,CAACyB,SAAJ,CAAc,cAAd,EAA8B,UAAUC,EAAV,EAAcC,OAAd,EAAuB;MACnD1B,cAAc,CAAC0B,OAAO,CAACC,KAAT,EAAgBF,EAAE,CAACG,YAAH,CAAgB,SAAhB,KAA8B,IAA9C,CAAd;IACD,CAFD;EAGD;;EAED,IAAI,OAAOC,OAAP,KAAmB,QAAvB,EAAiC;IAC/BC,MAAM,CAACD,OAAP,GAAiB/B,OAAjB;EACD,CAFD,MAEO,IAAI,OAAOiC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA3C,EAAgD;IACrDD,MAAM,CAAC,EAAD,EAAK,YAAY;MACrB,OAAOjC,OAAP;IACD,CAFK,CAAN;EAGD,CAJM,MAIA,IAAIM,MAAM,CAACL,GAAX,EAAgB;IACrBA,GAAG,CAACkC,GAAJ,CAAQnC,OAAR;EACD;AACF,CAtCD"},"metadata":{},"sourceType":"script"}
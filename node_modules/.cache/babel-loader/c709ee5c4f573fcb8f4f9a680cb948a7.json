{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { ref, defineComponent } from \"vue\";\nimport { pick, extend, truthProp, preventDefault, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nimport { fieldSharedProps } from \"../field/Field.mjs\";\nimport { useId } from \"../composables/use-id.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Field } from \"../field/index.mjs\";\nconst [name, bem, t] = createNamespace(\"search\");\nconst searchProps = extend({}, fieldSharedProps, {\n  label: String,\n  shape: makeStringProp(\"square\"),\n  leftIcon: makeStringProp(\"search\"),\n  clearable: truthProp,\n  actionText: String,\n  background: String,\n  showAction: Boolean\n});\nvar stdin_default = defineComponent({\n  name,\n  props: searchProps,\n  emits: [\"blur\", \"focus\", \"clear\", \"search\", \"cancel\", \"click-input\", \"click-left-icon\", \"click-right-icon\", \"update:modelValue\"],\n\n  setup(props, {\n    emit,\n    slots,\n    attrs\n  }) {\n    const id = useId();\n    const filedRef = ref();\n\n    const onCancel = () => {\n      if (!slots.action) {\n        emit(\"update:modelValue\", \"\");\n        emit(\"cancel\");\n      }\n    };\n\n    const onKeypress = event => {\n      const ENTER_CODE = 13;\n\n      if (event.keyCode === ENTER_CODE) {\n        preventDefault(event);\n        emit(\"search\", props.modelValue);\n      }\n    };\n\n    const getInputId = () => props.id || `${id}-input`;\n\n    const renderLabel = () => {\n      if (slots.label || props.label) {\n        return _createVNode(\"label\", {\n          \"class\": bem(\"label\"),\n          \"for\": getInputId()\n        }, [slots.label ? slots.label() : props.label]);\n      }\n    };\n\n    const renderAction = () => {\n      if (props.showAction) {\n        const text = props.actionText || t(\"cancel\");\n        return _createVNode(\"div\", {\n          \"class\": bem(\"action\"),\n          \"role\": \"button\",\n          \"tabindex\": 0,\n          \"onClick\": onCancel\n        }, [slots.action ? slots.action() : text]);\n      }\n    };\n\n    const blur = () => {\n      var _a;\n\n      return (_a = filedRef.value) == null ? void 0 : _a.blur();\n    };\n\n    const focus = () => {\n      var _a;\n\n      return (_a = filedRef.value) == null ? void 0 : _a.focus();\n    };\n\n    const onBlur = event => emit(\"blur\", event);\n\n    const onFocus = event => emit(\"focus\", event);\n\n    const onClear = event => emit(\"clear\", event);\n\n    const onClickInput = event => emit(\"click-input\", event);\n\n    const onClickLeftIcon = event => emit(\"click-left-icon\", event);\n\n    const onClickRightIcon = event => emit(\"click-right-icon\", event);\n\n    const fieldPropNames = Object.keys(fieldSharedProps);\n\n    const renderField = () => {\n      const fieldAttrs = extend({}, attrs, pick(props, fieldPropNames), {\n        id: getInputId()\n      });\n\n      const onInput = value => emit(\"update:modelValue\", value);\n\n      return _createVNode(Field, _mergeProps({\n        \"ref\": filedRef,\n        \"type\": \"search\",\n        \"class\": bem(\"field\"),\n        \"border\": false,\n        \"onBlur\": onBlur,\n        \"onFocus\": onFocus,\n        \"onClear\": onClear,\n        \"onKeypress\": onKeypress,\n        \"onClick-input\": onClickInput,\n        \"onClick-left-icon\": onClickLeftIcon,\n        \"onClick-right-icon\": onClickRightIcon,\n        \"onUpdate:modelValue\": onInput\n      }, fieldAttrs), pick(slots, [\"left-icon\", \"right-icon\"]));\n    };\n\n    useExpose({\n      focus,\n      blur\n    });\n    return () => {\n      var _a;\n\n      return _createVNode(\"div\", {\n        \"class\": bem({\n          \"show-action\": props.showAction\n        }),\n        \"style\": {\n          background: props.background\n        }\n      }, [(_a = slots.left) == null ? void 0 : _a.call(slots), _createVNode(\"div\", {\n        \"class\": bem(\"content\", props.shape)\n      }, [renderLabel(), renderField()]), renderAction()]);\n    };\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"names":["mergeProps","_mergeProps","createVNode","_createVNode","ref","defineComponent","pick","extend","truthProp","preventDefault","makeStringProp","createNamespace","fieldSharedProps","useId","useExpose","Field","name","bem","t","searchProps","label","String","shape","leftIcon","clearable","actionText","background","showAction","Boolean","stdin_default","props","emits","setup","emit","slots","attrs","id","filedRef","onCancel","action","onKeypress","event","ENTER_CODE","keyCode","modelValue","getInputId","renderLabel","renderAction","text","blur","_a","value","focus","onBlur","onFocus","onClear","onClickInput","onClickLeftIcon","onClickRightIcon","fieldPropNames","Object","keys","renderField","fieldAttrs","onInput","left","call","default"],"sources":["D:/项目/my-blog/node_modules/vant/es/search/Search.mjs"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { ref, defineComponent } from \"vue\";\nimport { pick, extend, truthProp, preventDefault, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nimport { fieldSharedProps } from \"../field/Field.mjs\";\nimport { useId } from \"../composables/use-id.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Field } from \"../field/index.mjs\";\nconst [name, bem, t] = createNamespace(\"search\");\nconst searchProps = extend({}, fieldSharedProps, {\n  label: String,\n  shape: makeStringProp(\"square\"),\n  leftIcon: makeStringProp(\"search\"),\n  clearable: truthProp,\n  actionText: String,\n  background: String,\n  showAction: Boolean\n});\nvar stdin_default = defineComponent({\n  name,\n  props: searchProps,\n  emits: [\"blur\", \"focus\", \"clear\", \"search\", \"cancel\", \"click-input\", \"click-left-icon\", \"click-right-icon\", \"update:modelValue\"],\n  setup(props, {\n    emit,\n    slots,\n    attrs\n  }) {\n    const id = useId();\n    const filedRef = ref();\n    const onCancel = () => {\n      if (!slots.action) {\n        emit(\"update:modelValue\", \"\");\n        emit(\"cancel\");\n      }\n    };\n    const onKeypress = (event) => {\n      const ENTER_CODE = 13;\n      if (event.keyCode === ENTER_CODE) {\n        preventDefault(event);\n        emit(\"search\", props.modelValue);\n      }\n    };\n    const getInputId = () => props.id || `${id}-input`;\n    const renderLabel = () => {\n      if (slots.label || props.label) {\n        return _createVNode(\"label\", {\n          \"class\": bem(\"label\"),\n          \"for\": getInputId()\n        }, [slots.label ? slots.label() : props.label]);\n      }\n    };\n    const renderAction = () => {\n      if (props.showAction) {\n        const text = props.actionText || t(\"cancel\");\n        return _createVNode(\"div\", {\n          \"class\": bem(\"action\"),\n          \"role\": \"button\",\n          \"tabindex\": 0,\n          \"onClick\": onCancel\n        }, [slots.action ? slots.action() : text]);\n      }\n    };\n    const blur = () => {\n      var _a;\n      return (_a = filedRef.value) == null ? void 0 : _a.blur();\n    };\n    const focus = () => {\n      var _a;\n      return (_a = filedRef.value) == null ? void 0 : _a.focus();\n    };\n    const onBlur = (event) => emit(\"blur\", event);\n    const onFocus = (event) => emit(\"focus\", event);\n    const onClear = (event) => emit(\"clear\", event);\n    const onClickInput = (event) => emit(\"click-input\", event);\n    const onClickLeftIcon = (event) => emit(\"click-left-icon\", event);\n    const onClickRightIcon = (event) => emit(\"click-right-icon\", event);\n    const fieldPropNames = Object.keys(fieldSharedProps);\n    const renderField = () => {\n      const fieldAttrs = extend({}, attrs, pick(props, fieldPropNames), {\n        id: getInputId()\n      });\n      const onInput = (value) => emit(\"update:modelValue\", value);\n      return _createVNode(Field, _mergeProps({\n        \"ref\": filedRef,\n        \"type\": \"search\",\n        \"class\": bem(\"field\"),\n        \"border\": false,\n        \"onBlur\": onBlur,\n        \"onFocus\": onFocus,\n        \"onClear\": onClear,\n        \"onKeypress\": onKeypress,\n        \"onClick-input\": onClickInput,\n        \"onClick-left-icon\": onClickLeftIcon,\n        \"onClick-right-icon\": onClickRightIcon,\n        \"onUpdate:modelValue\": onInput\n      }, fieldAttrs), pick(slots, [\"left-icon\", \"right-icon\"]));\n    };\n    useExpose({\n      focus,\n      blur\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"class\": bem({\n          \"show-action\": props.showAction\n        }),\n        \"style\": {\n          background: props.background\n        }\n      }, [(_a = slots.left) == null ? void 0 : _a.call(slots), _createVNode(\"div\", {\n        \"class\": bem(\"content\", props.shape)\n      }, [renderLabel(), renderField()]), renderAction()]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
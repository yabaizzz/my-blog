{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, nextTick, Teleport, onMounted, defineComponent } from \"vue\";\nimport { isDef, isHidden, truthProp, numericProp, getScrollTop, preventDefault, makeNumberProp, createNamespace, getRootScrollTop, setRootScrollTop } from \"../utils/index.mjs\";\nimport { useRect, useChildren, useScrollParent, useEventListener } from \"@vant/use\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\n\nfunction genAlphabet() {\n  const charCodeOfA = \"A\".charCodeAt(0);\n  const indexList = Array(26).fill(\"\").map((_, i) => String.fromCharCode(charCodeOfA + i));\n  return indexList;\n}\n\nconst [name, bem] = createNamespace(\"index-bar\");\nconst indexBarProps = {\n  sticky: truthProp,\n  zIndex: numericProp,\n  teleport: [String, Object],\n  highlightColor: String,\n  stickyOffsetTop: makeNumberProp(0),\n  indexList: {\n    type: Array,\n    default: genAlphabet\n  }\n};\nconst INDEX_BAR_KEY = Symbol(name);\nvar stdin_default = defineComponent({\n  name,\n  props: indexBarProps,\n  emits: [\"select\", \"change\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const root = ref();\n    const activeAnchor = ref(\"\");\n    const touch = useTouch();\n    const scrollParent = useScrollParent(root);\n    const {\n      children,\n      linkChildren\n    } = useChildren(INDEX_BAR_KEY);\n    let selectActiveIndex;\n    linkChildren({\n      props\n    });\n    const sidebarStyle = computed(() => {\n      if (isDef(props.zIndex)) {\n        return {\n          zIndex: +props.zIndex + 1\n        };\n      }\n    });\n    const highlightStyle = computed(() => {\n      if (props.highlightColor) {\n        return {\n          color: props.highlightColor\n        };\n      }\n    });\n\n    const getActiveAnchor = (scrollTop, rects) => {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const prevHeight = i > 0 ? rects[i - 1].height : 0;\n        const reachTop = props.sticky ? prevHeight + props.stickyOffsetTop : 0;\n\n        if (scrollTop + reachTop >= rects[i].top) {\n          return i;\n        }\n      }\n\n      return -1;\n    };\n\n    const getMatchAnchor = index => children.find(item => String(item.index) === index);\n\n    const onScroll = () => {\n      if (isHidden(root)) {\n        return;\n      }\n\n      const {\n        sticky,\n        indexList\n      } = props;\n      const scrollTop = getScrollTop(scrollParent.value);\n      const scrollParentRect = useRect(scrollParent);\n      const rects = children.map(item => item.getRect(scrollParent.value, scrollParentRect));\n      let active = -1;\n\n      if (selectActiveIndex) {\n        const match = getMatchAnchor(selectActiveIndex);\n\n        if (match) {\n          const rect = match.getRect(scrollParent.value, scrollParentRect);\n          active = getActiveAnchor(rect.top, rects);\n        }\n      } else {\n        active = getActiveAnchor(scrollTop, rects);\n      }\n\n      activeAnchor.value = indexList[active];\n\n      if (sticky) {\n        children.forEach((item, index) => {\n          const {\n            state,\n            $el\n          } = item;\n\n          if (index === active || index === active - 1) {\n            const rect = $el.getBoundingClientRect();\n            state.left = rect.left;\n            state.width = rect.width;\n          } else {\n            state.left = null;\n            state.width = null;\n          }\n\n          if (index === active) {\n            state.active = true;\n            state.top = Math.max(props.stickyOffsetTop, rects[index].top - scrollTop) + scrollParentRect.top;\n          } else if (index === active - 1 && selectActiveIndex === \"\") {\n            const activeItemTop = rects[active].top - scrollTop;\n            state.active = activeItemTop > 0;\n            state.top = activeItemTop + scrollParentRect.top - rects[index].height;\n          } else {\n            state.active = false;\n          }\n        });\n      }\n\n      selectActiveIndex = \"\";\n    };\n\n    const init = () => {\n      nextTick(onScroll);\n    };\n\n    useEventListener(\"scroll\", onScroll, {\n      target: scrollParent\n    });\n    onMounted(init);\n    watch(() => props.indexList, init);\n    watch(activeAnchor, value => {\n      if (value) {\n        emit(\"change\", value);\n      }\n    });\n\n    const renderIndexes = () => props.indexList.map(index => {\n      const active = index === activeAnchor.value;\n      return _createVNode(\"span\", {\n        \"class\": bem(\"index\", {\n          active\n        }),\n        \"style\": active ? highlightStyle.value : void 0,\n        \"data-index\": index\n      }, [index]);\n    });\n\n    const scrollTo = index => {\n      selectActiveIndex = String(index);\n      const match = getMatchAnchor(selectActiveIndex);\n\n      if (match) {\n        const scrollTop = getScrollTop(scrollParent.value);\n        const scrollParentRect = useRect(scrollParent);\n        const {\n          offsetHeight\n        } = document.documentElement;\n\n        if (scrollTop === offsetHeight - scrollParentRect.height) {\n          onScroll();\n          return;\n        }\n\n        match.$el.scrollIntoView();\n\n        if (props.sticky && props.stickyOffsetTop) {\n          setRootScrollTop(getRootScrollTop() - props.stickyOffsetTop);\n        }\n\n        emit(\"select\", match.index);\n      }\n    };\n\n    const scrollToElement = element => {\n      const {\n        index\n      } = element.dataset;\n\n      if (index) {\n        scrollTo(index);\n      }\n    };\n\n    const onClickSidebar = event => {\n      scrollToElement(event.target);\n    };\n\n    let touchActiveIndex;\n\n    const onTouchMove = event => {\n      touch.move(event);\n\n      if (touch.isVertical()) {\n        preventDefault(event);\n        const {\n          clientX,\n          clientY\n        } = event.touches[0];\n        const target = document.elementFromPoint(clientX, clientY);\n\n        if (target) {\n          const {\n            index\n          } = target.dataset;\n\n          if (index && touchActiveIndex !== index) {\n            touchActiveIndex = index;\n            scrollToElement(target);\n          }\n        }\n      }\n    };\n\n    const renderSidebar = () => _createVNode(\"div\", {\n      \"class\": bem(\"sidebar\"),\n      \"style\": sidebarStyle.value,\n      \"onClick\": onClickSidebar,\n      \"onTouchstart\": touch.start,\n      \"onTouchmove\": onTouchMove\n    }, [renderIndexes()]);\n\n    useExpose({\n      scrollTo\n    });\n    return () => {\n      var _a;\n\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": bem()\n      }, [props.teleport ? _createVNode(Teleport, {\n        \"to\": props.teleport\n      }, {\n        default: () => [renderSidebar()]\n      }) : renderSidebar(), (_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n\n});\nexport { INDEX_BAR_KEY, stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","ref","watch","computed","nextTick","Teleport","onMounted","defineComponent","isDef","isHidden","truthProp","numericProp","getScrollTop","preventDefault","makeNumberProp","createNamespace","getRootScrollTop","setRootScrollTop","useRect","useChildren","useScrollParent","useEventListener","useTouch","useExpose","genAlphabet","charCodeOfA","charCodeAt","indexList","Array","fill","map","_","i","String","fromCharCode","name","bem","indexBarProps","sticky","zIndex","teleport","Object","highlightColor","stickyOffsetTop","type","default","INDEX_BAR_KEY","Symbol","stdin_default","props","emits","setup","emit","slots","root","activeAnchor","touch","scrollParent","children","linkChildren","selectActiveIndex","sidebarStyle","highlightStyle","color","getActiveAnchor","scrollTop","rects","length","prevHeight","height","reachTop","top","getMatchAnchor","index","find","item","onScroll","value","scrollParentRect","getRect","active","match","rect","forEach","state","$el","getBoundingClientRect","left","width","Math","max","activeItemTop","init","target","renderIndexes","scrollTo","offsetHeight","document","documentElement","scrollIntoView","scrollToElement","element","dataset","onClickSidebar","event","touchActiveIndex","onTouchMove","move","isVertical","clientX","clientY","touches","elementFromPoint","renderSidebar","start","_a","call"],"sources":["D:/项目/my-blog/node_modules/vant/es/index-bar/IndexBar.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, nextTick, Teleport, onMounted, defineComponent } from \"vue\";\nimport { isDef, isHidden, truthProp, numericProp, getScrollTop, preventDefault, makeNumberProp, createNamespace, getRootScrollTop, setRootScrollTop } from \"../utils/index.mjs\";\nimport { useRect, useChildren, useScrollParent, useEventListener } from \"@vant/use\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nfunction genAlphabet() {\n  const charCodeOfA = \"A\".charCodeAt(0);\n  const indexList = Array(26).fill(\"\").map((_, i) => String.fromCharCode(charCodeOfA + i));\n  return indexList;\n}\nconst [name, bem] = createNamespace(\"index-bar\");\nconst indexBarProps = {\n  sticky: truthProp,\n  zIndex: numericProp,\n  teleport: [String, Object],\n  highlightColor: String,\n  stickyOffsetTop: makeNumberProp(0),\n  indexList: {\n    type: Array,\n    default: genAlphabet\n  }\n};\nconst INDEX_BAR_KEY = Symbol(name);\nvar stdin_default = defineComponent({\n  name,\n  props: indexBarProps,\n  emits: [\"select\", \"change\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const root = ref();\n    const activeAnchor = ref(\"\");\n    const touch = useTouch();\n    const scrollParent = useScrollParent(root);\n    const {\n      children,\n      linkChildren\n    } = useChildren(INDEX_BAR_KEY);\n    let selectActiveIndex;\n    linkChildren({\n      props\n    });\n    const sidebarStyle = computed(() => {\n      if (isDef(props.zIndex)) {\n        return {\n          zIndex: +props.zIndex + 1\n        };\n      }\n    });\n    const highlightStyle = computed(() => {\n      if (props.highlightColor) {\n        return {\n          color: props.highlightColor\n        };\n      }\n    });\n    const getActiveAnchor = (scrollTop, rects) => {\n      for (let i = children.length - 1; i >= 0; i--) {\n        const prevHeight = i > 0 ? rects[i - 1].height : 0;\n        const reachTop = props.sticky ? prevHeight + props.stickyOffsetTop : 0;\n        if (scrollTop + reachTop >= rects[i].top) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    const getMatchAnchor = (index) => children.find((item) => String(item.index) === index);\n    const onScroll = () => {\n      if (isHidden(root)) {\n        return;\n      }\n      const {\n        sticky,\n        indexList\n      } = props;\n      const scrollTop = getScrollTop(scrollParent.value);\n      const scrollParentRect = useRect(scrollParent);\n      const rects = children.map((item) => item.getRect(scrollParent.value, scrollParentRect));\n      let active = -1;\n      if (selectActiveIndex) {\n        const match = getMatchAnchor(selectActiveIndex);\n        if (match) {\n          const rect = match.getRect(scrollParent.value, scrollParentRect);\n          active = getActiveAnchor(rect.top, rects);\n        }\n      } else {\n        active = getActiveAnchor(scrollTop, rects);\n      }\n      activeAnchor.value = indexList[active];\n      if (sticky) {\n        children.forEach((item, index) => {\n          const {\n            state,\n            $el\n          } = item;\n          if (index === active || index === active - 1) {\n            const rect = $el.getBoundingClientRect();\n            state.left = rect.left;\n            state.width = rect.width;\n          } else {\n            state.left = null;\n            state.width = null;\n          }\n          if (index === active) {\n            state.active = true;\n            state.top = Math.max(props.stickyOffsetTop, rects[index].top - scrollTop) + scrollParentRect.top;\n          } else if (index === active - 1 && selectActiveIndex === \"\") {\n            const activeItemTop = rects[active].top - scrollTop;\n            state.active = activeItemTop > 0;\n            state.top = activeItemTop + scrollParentRect.top - rects[index].height;\n          } else {\n            state.active = false;\n          }\n        });\n      }\n      selectActiveIndex = \"\";\n    };\n    const init = () => {\n      nextTick(onScroll);\n    };\n    useEventListener(\"scroll\", onScroll, {\n      target: scrollParent\n    });\n    onMounted(init);\n    watch(() => props.indexList, init);\n    watch(activeAnchor, (value) => {\n      if (value) {\n        emit(\"change\", value);\n      }\n    });\n    const renderIndexes = () => props.indexList.map((index) => {\n      const active = index === activeAnchor.value;\n      return _createVNode(\"span\", {\n        \"class\": bem(\"index\", {\n          active\n        }),\n        \"style\": active ? highlightStyle.value : void 0,\n        \"data-index\": index\n      }, [index]);\n    });\n    const scrollTo = (index) => {\n      selectActiveIndex = String(index);\n      const match = getMatchAnchor(selectActiveIndex);\n      if (match) {\n        const scrollTop = getScrollTop(scrollParent.value);\n        const scrollParentRect = useRect(scrollParent);\n        const {\n          offsetHeight\n        } = document.documentElement;\n        if (scrollTop === offsetHeight - scrollParentRect.height) {\n          onScroll();\n          return;\n        }\n        match.$el.scrollIntoView();\n        if (props.sticky && props.stickyOffsetTop) {\n          setRootScrollTop(getRootScrollTop() - props.stickyOffsetTop);\n        }\n        emit(\"select\", match.index);\n      }\n    };\n    const scrollToElement = (element) => {\n      const {\n        index\n      } = element.dataset;\n      if (index) {\n        scrollTo(index);\n      }\n    };\n    const onClickSidebar = (event) => {\n      scrollToElement(event.target);\n    };\n    let touchActiveIndex;\n    const onTouchMove = (event) => {\n      touch.move(event);\n      if (touch.isVertical()) {\n        preventDefault(event);\n        const {\n          clientX,\n          clientY\n        } = event.touches[0];\n        const target = document.elementFromPoint(clientX, clientY);\n        if (target) {\n          const {\n            index\n          } = target.dataset;\n          if (index && touchActiveIndex !== index) {\n            touchActiveIndex = index;\n            scrollToElement(target);\n          }\n        }\n      }\n    };\n    const renderSidebar = () => _createVNode(\"div\", {\n      \"class\": bem(\"sidebar\"),\n      \"style\": sidebarStyle.value,\n      \"onClick\": onClickSidebar,\n      \"onTouchstart\": touch.start,\n      \"onTouchmove\": onTouchMove\n    }, [renderIndexes()]);\n    useExpose({\n      scrollTo\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": bem()\n      }, [props.teleport ? _createVNode(Teleport, {\n        \"to\": props.teleport\n      }, {\n        default: () => [renderSidebar()]\n      }) : renderSidebar(), (_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport {\n  INDEX_BAR_KEY,\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { pick, extend, truthProp, makeArrayProp, createNamespace, HAPTICS_FEEDBACK } from \"../utils/index.mjs\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nconst popupInheritKeys = [...popupSharedPropKeys, \"round\", \"closeOnPopstate\", \"safeAreaInsetBottom\"];\nconst iconMap = {\n  qq: \"qq\",\n  link: \"link-o\",\n  weibo: \"weibo\",\n  qrcode: \"qr\",\n  poster: \"photo-o\",\n  wechat: \"wechat\",\n  \"weapp-qrcode\": \"miniprogram-o\",\n  \"wechat-moments\": \"wechat-moments\"\n};\nconst [name, bem, t] = createNamespace(\"share-sheet\");\nconst shareSheetProps = extend({}, popupSharedProps, {\n  title: String,\n  round: truthProp,\n  options: makeArrayProp(),\n  cancelText: String,\n  description: String,\n  closeOnPopstate: truthProp,\n  safeAreaInsetBottom: truthProp\n});\nvar stdin_default = defineComponent({\n  name,\n  props: shareSheetProps,\n  emits: [\"cancel\", \"select\", \"update:show\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const updateShow = value => emit(\"update:show\", value);\n\n    const onCancel = () => {\n      updateShow(false);\n      emit(\"cancel\");\n    };\n\n    const onSelect = (option, index) => emit(\"select\", option, index);\n\n    const renderHeader = () => {\n      const title = slots.title ? slots.title() : props.title;\n      const description = slots.description ? slots.description() : props.description;\n\n      if (title || description) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\")\n        }, [title && _createVNode(\"h2\", {\n          \"class\": bem(\"title\")\n        }, [title]), description && _createVNode(\"span\", {\n          \"class\": bem(\"description\")\n        }, [description])]);\n      }\n    };\n\n    const renderIcon = icon => {\n      if (iconMap[icon]) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"icon\", [icon])\n        }, [_createVNode(Icon, {\n          \"name\": iconMap[icon] || icon\n        }, null)]);\n      }\n\n      return _createVNode(\"img\", {\n        \"src\": icon,\n        \"class\": bem(\"image-icon\")\n      }, null);\n    };\n\n    const renderOption = (option, index) => {\n      const {\n        name: name2,\n        icon,\n        className,\n        description\n      } = option;\n      return _createVNode(\"div\", {\n        \"role\": \"button\",\n        \"tabindex\": 0,\n        \"class\": [bem(\"option\"), className, HAPTICS_FEEDBACK],\n        \"onClick\": () => onSelect(option, index)\n      }, [renderIcon(icon), name2 && _createVNode(\"span\", {\n        \"class\": bem(\"name\")\n      }, [name2]), description && _createVNode(\"span\", {\n        \"class\": bem(\"option-description\")\n      }, [description])]);\n    };\n\n    const renderOptions = (options, border) => _createVNode(\"div\", {\n      \"class\": bem(\"options\", {\n        border\n      })\n    }, [options.map(renderOption)]);\n\n    const renderRows = () => {\n      const {\n        options\n      } = props;\n\n      if (Array.isArray(options[0])) {\n        return options.map((item, index) => renderOptions(item, index !== 0));\n      }\n\n      return renderOptions(options);\n    };\n\n    const renderCancelButton = () => {\n      var _a;\n\n      const cancelText = (_a = props.cancelText) != null ? _a : t(\"cancel\");\n\n      if (slots.cancel || cancelText) {\n        return _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"class\": bem(\"cancel\"),\n          \"onClick\": onCancel\n        }, [slots.cancel ? slots.cancel() : cancelText]);\n      }\n    };\n\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": bem(),\n      \"position\": \"bottom\",\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritKeys)), {\n      default: () => [renderHeader(), renderRows(), renderCancelButton()]\n    });\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"names":["mergeProps","_mergeProps","createVNode","_createVNode","defineComponent","pick","extend","truthProp","makeArrayProp","createNamespace","HAPTICS_FEEDBACK","popupSharedProps","popupSharedPropKeys","Icon","Popup","popupInheritKeys","iconMap","qq","link","weibo","qrcode","poster","wechat","name","bem","t","shareSheetProps","title","String","round","options","cancelText","description","closeOnPopstate","safeAreaInsetBottom","stdin_default","props","emits","setup","emit","slots","updateShow","value","onCancel","onSelect","option","index","renderHeader","renderIcon","icon","renderOption","name2","className","renderOptions","border","map","renderRows","Array","isArray","item","renderCancelButton","_a","cancel","default"],"sources":["D:/项目/my-blog/node_modules/vant/es/share-sheet/ShareSheet.mjs"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { pick, extend, truthProp, makeArrayProp, createNamespace, HAPTICS_FEEDBACK } from \"../utils/index.mjs\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nconst popupInheritKeys = [...popupSharedPropKeys, \"round\", \"closeOnPopstate\", \"safeAreaInsetBottom\"];\nconst iconMap = {\n  qq: \"qq\",\n  link: \"link-o\",\n  weibo: \"weibo\",\n  qrcode: \"qr\",\n  poster: \"photo-o\",\n  wechat: \"wechat\",\n  \"weapp-qrcode\": \"miniprogram-o\",\n  \"wechat-moments\": \"wechat-moments\"\n};\nconst [name, bem, t] = createNamespace(\"share-sheet\");\nconst shareSheetProps = extend({}, popupSharedProps, {\n  title: String,\n  round: truthProp,\n  options: makeArrayProp(),\n  cancelText: String,\n  description: String,\n  closeOnPopstate: truthProp,\n  safeAreaInsetBottom: truthProp\n});\nvar stdin_default = defineComponent({\n  name,\n  props: shareSheetProps,\n  emits: [\"cancel\", \"select\", \"update:show\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const updateShow = (value) => emit(\"update:show\", value);\n    const onCancel = () => {\n      updateShow(false);\n      emit(\"cancel\");\n    };\n    const onSelect = (option, index) => emit(\"select\", option, index);\n    const renderHeader = () => {\n      const title = slots.title ? slots.title() : props.title;\n      const description = slots.description ? slots.description() : props.description;\n      if (title || description) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\")\n        }, [title && _createVNode(\"h2\", {\n          \"class\": bem(\"title\")\n        }, [title]), description && _createVNode(\"span\", {\n          \"class\": bem(\"description\")\n        }, [description])]);\n      }\n    };\n    const renderIcon = (icon) => {\n      if (iconMap[icon]) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"icon\", [icon])\n        }, [_createVNode(Icon, {\n          \"name\": iconMap[icon] || icon\n        }, null)]);\n      }\n      return _createVNode(\"img\", {\n        \"src\": icon,\n        \"class\": bem(\"image-icon\")\n      }, null);\n    };\n    const renderOption = (option, index) => {\n      const {\n        name: name2,\n        icon,\n        className,\n        description\n      } = option;\n      return _createVNode(\"div\", {\n        \"role\": \"button\",\n        \"tabindex\": 0,\n        \"class\": [bem(\"option\"), className, HAPTICS_FEEDBACK],\n        \"onClick\": () => onSelect(option, index)\n      }, [renderIcon(icon), name2 && _createVNode(\"span\", {\n        \"class\": bem(\"name\")\n      }, [name2]), description && _createVNode(\"span\", {\n        \"class\": bem(\"option-description\")\n      }, [description])]);\n    };\n    const renderOptions = (options, border) => _createVNode(\"div\", {\n      \"class\": bem(\"options\", {\n        border\n      })\n    }, [options.map(renderOption)]);\n    const renderRows = () => {\n      const {\n        options\n      } = props;\n      if (Array.isArray(options[0])) {\n        return options.map((item, index) => renderOptions(item, index !== 0));\n      }\n      return renderOptions(options);\n    };\n    const renderCancelButton = () => {\n      var _a;\n      const cancelText = (_a = props.cancelText) != null ? _a : t(\"cancel\");\n      if (slots.cancel || cancelText) {\n        return _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"class\": bem(\"cancel\"),\n          \"onClick\": onCancel\n        }, [slots.cancel ? slots.cancel() : cancelText]);\n      }\n    };\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": bem(),\n      \"position\": \"bottom\",\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritKeys)), {\n      default: () => [renderHeader(), renderRows(), renderCancelButton()]\n    });\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
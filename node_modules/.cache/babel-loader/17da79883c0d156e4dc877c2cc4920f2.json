{"ast":null,"code":"import calendar from \"@/components/calendar.vue\";\nimport { getCurrentInstance, onMounted, reactive, ref } from 'vue';\nimport utils from \"@/util/utils\";\nimport { upPic, getPageParam, getBrowserType, getNowFormatDate } from \"@/util/api\";\nimport { useRouter, useRoute } from 'vue-router';\nexport default {\n  name: 'login',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const router = useRouter();\n    const api = getCurrentInstance();\n    onMounted(() => {\n      utils.getUser({\n        user_id: 2\n      }).then(res => {\n        console.log(res, 'resres');\n      });\n      router.push({\n        name: 'home',\n        query: {\n          id: 2\n        }\n      }); // api.proxy.$request.getUser({user_id: 2}).then(res => {\n      //   console.log(res,'resres')\n      // })\n    });\n\n    function upload(e) {\n      console.log(e, 'file');\n      upPic(e.file, true).then(res => {\n        console.log(res, '最终图片路劲');\n      });\n    }\n\n    const __returned__ = {\n      router,\n      api,\n      upload,\n      calendar,\n      getCurrentInstance,\n      onMounted,\n      reactive,\n      ref,\n      utils,\n      upPic,\n      getPageParam,\n      getBrowserType,\n      getNowFormatDate,\n      useRouter,\n      useRoute\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AAgBA,OAAOA,QAAP,MAAqB,2BAArB;AACA,SAAQC,kBAAR,EAA4BC,SAA5B,EAAuCC,QAAvC,EAAiDC,GAAjD,QAA2D,KAA3D;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,SAAQC,KAAR,EAAeC,YAAf,EAA6BC,cAA7B,EAA6CC,gBAA7C,QAAoE,YAApE;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,YAAlC;;;;;;;;IAEA,MAAMC,MAAM,GAAGF,SAAS,EAAxB;IACA,MAAMG,GAAG,GAAGZ,kBAAkB,EAA9B;IACAC,SAAS,CAAC,MAAM;MACdG,KAAK,CAACS,OAAN,CAAc;QAACC,OAAO,EAAE;MAAV,CAAd,EAA4BC,IAA5B,CAAiCC,GAAG,IAAI;QACtCC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAAiB,QAAjB;MACD,CAFD;MAGAL,MAAM,CAACQ,IAAP,CAAY;QACVC,IAAI,EAAE,MADI;QAEVC,KAAK,EAAE;UACLC,EAAE,EAAE;QADC;MAFG,CAAZ,EAJc,CAUd;MACA;MACA;IACD,CAbQ,CAAT;;IAeA,SAASC,MAAT,CAAgBC,CAAhB,EAAmB;MACjBP,OAAO,CAACC,GAAR,CAAYM,CAAZ,EAAe,MAAf;MACAnB,KAAK,CAACmB,CAAC,CAACC,IAAH,EAAS,IAAT,CAAL,CAAoBV,IAApB,CAAyBC,GAAG,IAAI;QAC9BC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAAiB,QAAjB;MACD,CAFD;IAGD","names":["calendar","getCurrentInstance","onMounted","reactive","ref","utils","upPic","getPageParam","getBrowserType","getNowFormatDate","useRouter","useRoute","router","api","getUser","user_id","then","res","console","log","push","name","query","id","upload","e","file"],"sources":["D:/项目/my-blog/src/views/login/login.vue"],"sourcesContent":["<template>\n  <div class=\"root\">\n    <el-upload\n        class=\"upload-demo\"\n        drag\n        action=\"\"\n        :http-request=\"upload\"\n        multiple>\n      <i class=\"el-icon-upload\"></i>\n      <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n      <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png文件，且不超过500kb</div>\n    </el-upload>\n  </div>\n</template>\n\n<script setup>\nimport calendar from \"@/components/calendar.vue\";\nimport {getCurrentInstance, onMounted, reactive, ref} from 'vue'\nimport utils from \"@/util/utils\";\nimport {upPic, getPageParam, getBrowserType, getNowFormatDate} from \"@/util/api\";\nimport {useRouter, useRoute} from 'vue-router'\n\nconst router = useRouter()\nconst api = getCurrentInstance()\nonMounted(() => {\n  utils.getUser({user_id: 2}).then(res => {\n    console.log(res, 'resres')\n  })\n  router.push({\n    name: 'home',\n    query: {\n      id: 2\n    }\n  })\n  // api.proxy.$request.getUser({user_id: 2}).then(res => {\n  //   console.log(res,'resres')\n  // })\n})\n\nfunction upload(e) {\n  console.log(e, 'file')\n  upPic(e.file, true).then(res => {\n    console.log(res, '最终图片路劲')\n  })\n}\n</script>\n\n<style scoped lang=\"less\">\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n\n.avatar-uploader .el-upload:hover {\n  border-color: #409EFF;\n}\n\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n</style>"]},"metadata":{},"sourceType":"module"}
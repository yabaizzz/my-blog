{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { addUnit, makeArrayProp, makeStringProp, makeNumericProp, createNamespace } from \"../utils/index.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Sidebar } from \"../sidebar/index.mjs\";\nimport { SidebarItem } from \"../sidebar-item/index.mjs\";\nconst [name, bem] = createNamespace(\"tree-select\");\nconst treeSelectProps = {\n  max: makeNumericProp(Infinity),\n  items: makeArrayProp(),\n  height: makeNumericProp(300),\n  selectedIcon: makeStringProp(\"success\"),\n  mainActiveIndex: makeNumericProp(0),\n  activeId: {\n    type: [Number, String, Array],\n    default: 0\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: treeSelectProps,\n  emits: [\"click-nav\", \"click-item\", \"update:activeId\", \"update:mainActiveIndex\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const isActiveItem = id => Array.isArray(props.activeId) ? props.activeId.includes(id) : props.activeId === id;\n\n    const renderSubItem = item => {\n      const onClick = () => {\n        if (item.disabled) {\n          return;\n        }\n\n        let activeId;\n\n        if (Array.isArray(props.activeId)) {\n          activeId = props.activeId.slice();\n          const index = activeId.indexOf(item.id);\n\n          if (index !== -1) {\n            activeId.splice(index, 1);\n          } else if (activeId.length < props.max) {\n            activeId.push(item.id);\n          }\n        } else {\n          activeId = item.id;\n        }\n\n        emit(\"update:activeId\", activeId);\n        emit(\"click-item\", item);\n      };\n\n      return _createVNode(\"div\", {\n        \"key\": item.id,\n        \"class\": [\"van-ellipsis\", bem(\"item\", {\n          active: isActiveItem(item.id),\n          disabled: item.disabled\n        })],\n        \"onClick\": onClick\n      }, [item.text, isActiveItem(item.id) && _createVNode(Icon, {\n        \"name\": props.selectedIcon,\n        \"class\": bem(\"selected\")\n      }, null)]);\n    };\n\n    const onSidebarChange = index => {\n      emit(\"update:mainActiveIndex\", index);\n    };\n\n    const onClickSidebarItem = index => emit(\"click-nav\", index);\n\n    const renderSidebar = () => {\n      const Items = props.items.map(item => _createVNode(SidebarItem, {\n        \"dot\": item.dot,\n        \"title\": item.text,\n        \"badge\": item.badge,\n        \"class\": [bem(\"nav-item\"), item.className],\n        \"disabled\": item.disabled,\n        \"onClick\": onClickSidebarItem\n      }, null));\n      return _createVNode(Sidebar, {\n        \"class\": bem(\"nav\"),\n        \"modelValue\": props.mainActiveIndex,\n        \"onChange\": onSidebarChange\n      }, {\n        default: () => [Items]\n      });\n    };\n\n    const renderContent = () => {\n      if (slots.content) {\n        return slots.content();\n      }\n\n      const selected = props.items[+props.mainActiveIndex] || {};\n\n      if (selected.children) {\n        return selected.children.map(renderSubItem);\n      }\n    };\n\n    return () => _createVNode(\"div\", {\n      \"class\": bem(),\n      \"style\": {\n        height: addUnit(props.height)\n      }\n    }, [renderSidebar(), _createVNode(\"div\", {\n      \"class\": bem(\"content\")\n    }, [renderContent()])]);\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","defineComponent","addUnit","makeArrayProp","makeStringProp","makeNumericProp","createNamespace","Icon","Sidebar","SidebarItem","name","bem","treeSelectProps","max","Infinity","items","height","selectedIcon","mainActiveIndex","activeId","type","Number","String","Array","default","stdin_default","props","emits","setup","emit","slots","isActiveItem","id","isArray","includes","renderSubItem","item","onClick","disabled","slice","index","indexOf","splice","length","push","active","text","onSidebarChange","onClickSidebarItem","renderSidebar","Items","map","dot","badge","className","renderContent","content","selected","children"],"sources":["D:/web/my-blog/node_modules/vant/es/tree-select/TreeSelect.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { addUnit, makeArrayProp, makeStringProp, makeNumericProp, createNamespace } from \"../utils/index.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Sidebar } from \"../sidebar/index.mjs\";\nimport { SidebarItem } from \"../sidebar-item/index.mjs\";\nconst [name, bem] = createNamespace(\"tree-select\");\nconst treeSelectProps = {\n  max: makeNumericProp(Infinity),\n  items: makeArrayProp(),\n  height: makeNumericProp(300),\n  selectedIcon: makeStringProp(\"success\"),\n  mainActiveIndex: makeNumericProp(0),\n  activeId: {\n    type: [Number, String, Array],\n    default: 0\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  props: treeSelectProps,\n  emits: [\"click-nav\", \"click-item\", \"update:activeId\", \"update:mainActiveIndex\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const isActiveItem = (id) => Array.isArray(props.activeId) ? props.activeId.includes(id) : props.activeId === id;\n    const renderSubItem = (item) => {\n      const onClick = () => {\n        if (item.disabled) {\n          return;\n        }\n        let activeId;\n        if (Array.isArray(props.activeId)) {\n          activeId = props.activeId.slice();\n          const index = activeId.indexOf(item.id);\n          if (index !== -1) {\n            activeId.splice(index, 1);\n          } else if (activeId.length < props.max) {\n            activeId.push(item.id);\n          }\n        } else {\n          activeId = item.id;\n        }\n        emit(\"update:activeId\", activeId);\n        emit(\"click-item\", item);\n      };\n      return _createVNode(\"div\", {\n        \"key\": item.id,\n        \"class\": [\"van-ellipsis\", bem(\"item\", {\n          active: isActiveItem(item.id),\n          disabled: item.disabled\n        })],\n        \"onClick\": onClick\n      }, [item.text, isActiveItem(item.id) && _createVNode(Icon, {\n        \"name\": props.selectedIcon,\n        \"class\": bem(\"selected\")\n      }, null)]);\n    };\n    const onSidebarChange = (index) => {\n      emit(\"update:mainActiveIndex\", index);\n    };\n    const onClickSidebarItem = (index) => emit(\"click-nav\", index);\n    const renderSidebar = () => {\n      const Items = props.items.map((item) => _createVNode(SidebarItem, {\n        \"dot\": item.dot,\n        \"title\": item.text,\n        \"badge\": item.badge,\n        \"class\": [bem(\"nav-item\"), item.className],\n        \"disabled\": item.disabled,\n        \"onClick\": onClickSidebarItem\n      }, null));\n      return _createVNode(Sidebar, {\n        \"class\": bem(\"nav\"),\n        \"modelValue\": props.mainActiveIndex,\n        \"onChange\": onSidebarChange\n      }, {\n        default: () => [Items]\n      });\n    };\n    const renderContent = () => {\n      if (slots.content) {\n        return slots.content();\n      }\n      const selected = props.items[+props.mainActiveIndex] || {};\n      if (selected.children) {\n        return selected.children.map(renderSubItem);\n      }\n    };\n    return () => _createVNode(\"div\", {\n      \"class\": bem(),\n      \"style\": {\n        height: addUnit(props.height)\n      }\n    }, [renderSidebar(), _createVNode(\"div\", {\n      \"class\": bem(\"content\")\n    }, [renderContent()])]);\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}